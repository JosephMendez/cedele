!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],e):"object"==typeof exports?exports.spotlight=e(require("React"),require("ReactDOM")):t.spotlight=e(t.React,t.ReactDOM)}(window,(function(t,e){return(window.webpackJsonpspotlight=window.webpackJsonpspotlight||[]).push([[9],{0:function(e,o){e.exports=t},10:function(t,e,o){"use strict";var n;o.d(e,"a",(function(){return n})),function(t){let e,o;!function(t){t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.ALBUM="CAROUSEL_ALBUM"}(e=t.Type||(t.Type={})),function(t){let e;!function(t){t.PERSONAL_ACCOUNT="PERSONAL_ACCOUNT",t.BUSINESS_ACCOUNT="BUSINESS_ACCOUNT",t.TAGGED_ACCOUNT="TAGGED_ACCOUNT",t.RECENT_HASHTAG="RECENT_HASHTAG",t.POPULAR_HASHTAG="POPULAR_HASHTAG",t.USER_STORY="USER_STORY"}(e=t.Type||(t.Type={}))}(o=t.Source||(t.Source={})),t.getAsRows=(t,e)=>{t=t.slice(),e=e>0?e:1;let o=[];for(;t.length;)o.push(t.splice(0,e));if(o.length>0){const t=o.length-1;for(;o[t].length<e;)o[t].push({})}return o},t.isFromHashtag=t=>t.source.type===o.Type.POPULAR_HASHTAG||t.source.type===o.Type.RECENT_HASHTAG}(n||(n={}))},100:function(t,e,o){"use strict";o.d(e,"a",(function(){return E}));var n=o(0),i=o.n(n),a=o(40),s=o(11),r=o.n(s),l=o(7),c=o(4),u=o(578),d=o(576),p=o(45),h=o(120),m=o(108),f=o(34),g=o(5),b=o(25),y=o(12),v=o(74),_=Object(l.b)((function({account:t,onUpdate:e}){const[o,n]=i.a.useState(!1),[a,s]=i.a.useState(""),[l,_]=i.a.useState(!1),E=t.type===c.a.Type.PERSONAL,O=c.b.getBioText(t),w=()=>{t.customBio=a,_(!0),f.a.updateAccount(t).then(()=>{n(!1),_(!1),e&&e()})},S=o=>{t.customProfilePicUrl=o,_(!0),f.a.updateAccount(t).then(()=>{_(!1),e&&e()})};return i.a.createElement("div",{className:r.a.root},i.a.createElement("div",{className:r.a.container},i.a.createElement("div",{className:r.a.infoColumn},i.a.createElement("a",{href:c.b.getProfileUrl(t),target:"_blank",className:r.a.username},"@",t.username),i.a.createElement("div",{className:r.a.row},i.a.createElement("span",{className:r.a.label},"Spotlight ID:"),t.id),i.a.createElement("div",{className:r.a.row},i.a.createElement("span",{className:r.a.label},"User ID:"),t.userId),i.a.createElement("div",{className:r.a.row},i.a.createElement("span",{className:r.a.label},"Type:"),t.type),!o&&i.a.createElement("div",{className:r.a.row},i.a.createElement("div",null,i.a.createElement("span",{className:r.a.label},"Bio:"),i.a.createElement("a",{className:r.a.editBioLink,onClick:()=>{s(c.b.getBioText(t)),n(!0)}},"Edit bio"),i.a.createElement("pre",{className:r.a.bio},O.length>0?O:"(No bio)"))),o&&i.a.createElement("div",{className:r.a.row},i.a.createElement("textarea",{className:r.a.bioEditor,value:a,onChange:t=>{s(t.target.value)},onKeyDown:t=>{"Enter"===t.key&&t.ctrlKey&&(w(),t.preventDefault(),t.stopPropagation())},rows:4}),i.a.createElement("div",{className:r.a.bioFooter},i.a.createElement("div",{className:r.a.bioEditingControls},l&&i.a.createElement("span",null,"Please wait ...")),i.a.createElement("div",{className:r.a.bioEditingControls},i.a.createElement(g.a,{className:r.a.bioEditingButton,type:g.c.DANGER,disabled:l,onClick:()=>{t.customBio="",_(!0),f.a.updateAccount(t).then(()=>{n(!1),_(!1),e&&e()})}},"Reset"),i.a.createElement(g.a,{className:r.a.bioEditingButton,type:g.c.SECONDARY,disabled:l,onClick:()=>{n(!1)}},"Cancel"),i.a.createElement(g.a,{className:r.a.bioEditingButton,type:g.c.PRIMARY,disabled:l,onClick:w},"Save"))))),i.a.createElement("div",{className:r.a.picColumn},i.a.createElement("div",null,i.a.createElement(v.a,{account:t,className:r.a.profilePic})),i.a.createElement(h.a,{id:"account-custom-profile-pic",title:"Select profile picture",mediaType:"image",onSelect:t=>{const e=parseInt(t.attributes.id),o=m.a.media.attachment(e).attributes.url;S(o)}},({open:t})=>i.a.createElement(g.a,{type:g.c.SECONDARY,className:r.a.setCustomPic,onClick:t},"Change profile picture")),t.customProfilePicUrl.length>0&&i.a.createElement("a",{className:r.a.resetCustomPic,onClick:()=>{S("")}},"Reset profile picture"))),E&&i.a.createElement("div",{className:r.a.personalInfoMessage},i.a.createElement(b.a,{type:b.b.INFO,showIcon:!0},"Due to restrictions set by Instagram, Spotlight cannot import the profile photo and bio"," ","text for Personal accounts."," ",i.a.createElement("a",{href:y.a.resources.customPersonalInfoUrl,target:"_blank"},"Click here to learn more"),".")),i.a.createElement(p.a,{label:"View access token",stealth:!0},i.a.createElement("div",{className:r.a.row},t.accessToken&&i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("span",{className:r.a.label},"Expires on:"),i.a.createElement("span",null,t.accessToken.expiry?Object(u.a)(Object(d.a)(t.accessToken.expiry),"PPPP"):"Unknown")),i.a.createElement("pre",{className:r.a.accessToken},t.accessToken.code)))))}));function E({isOpen:t,onClose:e,onUpdate:o,account:n}){return i.a.createElement(a.a,{isOpen:t,title:"Account details",icon:"admin-users",onClose:e},i.a.createElement(a.a.Content,null,i.a.createElement(_,{account:n,onUpdate:o})))}},107:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var n=o(0),i=o.n(n),a=o(7),s=o(27),r=o(6);const l=Object(a.b)(({feed:t})=>{const e=s.a.getById(t.options.layout),o=r.a.ComputedOptions.compute(t.options,t.mode);return i.a.createElement("div",{className:"feed"},i.a.createElement(e.component,{feed:t,options:o}))})},11:function(t,e,o){t.exports={root:"AccountInfo__root",container:"AccountInfo__container",column:"AccountInfo__column","info-column":"AccountInfo__info-column AccountInfo__column",infoColumn:"AccountInfo__info-column AccountInfo__column","pic-column":"AccountInfo__pic-column AccountInfo__column",picColumn:"AccountInfo__pic-column AccountInfo__column",id:"AccountInfo__id",username:"AccountInfo__username","profile-pic":"AccountInfo__profile-pic",profilePic:"AccountInfo__profile-pic",label:"AccountInfo__label",row:"AccountInfo__row",pre:"AccountInfo__pre",bio:"AccountInfo__bio AccountInfo__pre","link-button":"AccountInfo__link-button",linkButton:"AccountInfo__link-button","edit-bio-link":"AccountInfo__edit-bio-link AccountInfo__link-button",editBioLink:"AccountInfo__edit-bio-link AccountInfo__link-button","bio-editor":"AccountInfo__bio-editor",bioEditor:"AccountInfo__bio-editor","bio-footer":"AccountInfo__bio-footer",bioFooter:"AccountInfo__bio-footer","bio-editing-controls":"AccountInfo__bio-editing-controls",bioEditingControls:"AccountInfo__bio-editing-controls","access-token":"AccountInfo__access-token AccountInfo__pre",accessToken:"AccountInfo__access-token AccountInfo__pre","set-custom-pic":"AccountInfo__set-custom-pic",setCustomPic:"AccountInfo__set-custom-pic","reset-custom-pic":"AccountInfo__reset-custom-pic AccountInfo__link-button",resetCustomPic:"AccountInfo__reset-custom-pic AccountInfo__link-button",subtext:"AccountInfo__subtext","personal-info-message":"AccountInfo__personal-info-message",personalInfoMessage:"AccountInfo__personal-info-message"}},116:function(t,e,o){t.exports={pill:"ProPill__pill"}},117:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var n=o(0),i=o.n(n),a=o(76),s=o.n(a),r=o(23),l=o(65),c=o.n(l),u=o(50),d=o.n(u),p=o(7),h=o(3),m=o(122),f=Object(p.b)((function({field:t}){const e="settings-field-"+Object(h.r)(),o=!t.label||t.fullWidth;return i.a.createElement("div",{className:d.a.root},t.label&&i.a.createElement("div",{className:d.a.label},i.a.createElement("label",{htmlFor:e},t.label)),i.a.createElement("div",{className:d.a.container},i.a.createElement("div",{className:o?d.a.controlFullWidth:d.a.controlPartialWidth},i.a.createElement(t.component,{id:e})),t.tooltip&&i.a.createElement("div",{className:d.a.tooltip},i.a.createElement(m.a,null,t.tooltip))))}));function g({group:t}){return i.a.createElement("div",{className:c.a.root},t.title.length>0&&i.a.createElement("h1",{className:c.a.title},t.title),t.component&&i.a.createElement("div",{className:c.a.content},i.a.createElement(t.component)),i.a.createElement("div",{className:c.a.fieldList},t.fields.map(t=>i.a.createElement(f,{field:t,key:t.id}))))}var b=o(16);function y({page:t}){return Object(b.d)("keydown",t=>{t.key&&"s"===t.key.toLowerCase()&&t.ctrlKey&&(r.b.save(),t.preventDefault(),t.stopPropagation())}),i.a.createElement("article",{className:s.a.root},t.component&&i.a.createElement("div",{className:s.a.content},i.a.createElement(t.component)),t.groups&&i.a.createElement("div",{className:s.a.groupList},t.groups.map(t=>i.a.createElement(g,{key:t.id,group:t}))))}},13:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));const n=t=>"string"==typeof t?t:"r"in t?"rgba("+t.r+","+t.g+","+t.b+","+t.a+")":"h"in t?"hsla("+t.h+","+t.s+","+t.l+","+t.a+")":"#fff"},131:function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));const n={value:"link",label:"Link",getIcon:()=>"admin-links",getPopupLinkText:(t,e)=>"string"==typeof e.linkText&&e.linkText.length>0?e.linkText:i.getDefaultLinkText(e),isValid:(t,e)=>e.linkType&&("url"===e.linkType&&e.url&&e.url.length>0||e.postId>0&&e.postUrl&&e.postUrl.length>0),getMediaUrl:(t,e)=>"url"===e.linkType?e.url:e.postUrl,onMediaClick:(t,e)=>{let o=n.getMediaUrl(t,e);return!!o&&(window.open(o,e.newTab?"_blank":"_self"),!0)}};var i;e.b=n,function(t){t.getDefaultLinkText=function(t){switch(t.linkType){case"product":return"Buy it now";case"post":return"Read the article";case"page":return"Learn more";default:return"Visit link"}}}(i||(i={}))},135:function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i}));const n=(t,e)=>t.startsWith(e)?t:e+t,i=t=>{return(e=t,"#",e.startsWith("#")?e.substr("#".length):e).split(/\s/).map((t,e)=>e>0?t[0].toUpperCase()+t.substr(1):t).join("").replace(/\W/gi,"");var e}},14:function(t,e,o){"use strict";var n=o(37),i=o.n(n),a=o(19),s=o(39);const r=a.a.config.restApi.baseUrl,l={};a.a.config.restApi.authToken&&(l["X-Sli-Auth-Token"]=a.a.config.restApi.authToken);const c=i.a.create({baseURL:r,headers:l}),u={config:a.a.config.restApi,driver:c,getAccounts:()=>c.get("/accounts"),getFeeds:()=>c.get("/feeds"),getFeedMedia:(t,e=0,o=0,n)=>{const a=n?new i.a.CancelToken(n):void 0;return c.post("/media/fetch",{options:t,num:o,from:e},{cancelToken:a})},getErrorReason:t=>{let e;return e="object"==typeof t.response?t.response.data:"string"==typeof t.message?t.message:t.toString(),Object(s.b)(e)}};e.a=u},148:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o(0),i=o.n(n),a=o(32);function s({breakpoints:t,children:e}){const[o,s]=i.a.useState(1/0),r=i.a.useCallback(()=>{const e=Object(a.b)();s(()=>t.reduce((t,o)=>e.width<=o&&o<t?o:t,1/0))},[t]);return Object(n.useEffect)(()=>(r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),e(o)}},149:function(t,e,o){"use strict";var n=o(0),i=o.n(n),a=o(124),s=o(21),r=o.n(s),l=o(49),c=o(4),u=o(5),d=o(8),p=o(119),h=o(28),m=o(24),f=o(34),g=o(100),b=o(74),y=o(12),v=o(86);function _({accounts:t,showDelete:e,onDeleteError:o}){const n=(t=null!=t?t:[]).filter(t=>t.type===c.a.Type.BUSINESS).length,[a,s]=i.a.useState(!1),[_,E]=i.a.useState(null),[O,w]=i.a.useState(!1),[S,C]=i.a.useState(),[P,B]=i.a.useState(!1),k=t=>()=>{E(t),s(!0)},M=t=>()=>{f.a.openAuthWindow(t.type,0,()=>{y.a.restApi.deleteAccountMedia(t.id)})},T=t=>()=>{C(t),w(!0)},A=()=>{B(!1),C(null),w(!1)},I={cols:{username:r.a.usernameCol,type:r.a.typeCol,usages:r.a.usagesCol,actions:r.a.actionsCol},cells:{username:r.a.usernameCell,type:r.a.typeCell,usages:r.a.usagesCell,actions:r.a.actionsCell}};return i.a.createElement("div",{className:"accounts-list"},i.a.createElement(p.a,{styleMap:I,rows:t,cols:[{id:"username",label:"Username",render:t=>i.a.createElement("div",null,i.a.createElement(b.a,{account:t,className:r.a.profilePic}),i.a.createElement("a",{className:r.a.username,onClick:k(t)},t.username))},{id:"type",label:"Type",render:t=>i.a.createElement("span",{className:r.a.accountType},t.type)},{id:"usages",label:"Feeds",render:t=>i.a.createElement("span",{className:r.a.usages},t.usages.map((t,e)=>!!h.a.getById(t)&&i.a.createElement(l.a,{key:e,to:m.a.at({screen:"edit",id:t.toString()})},h.a.getById(t).name)))},{id:"actions",label:"Actions",render:t=>e&&i.a.createElement("div",{className:r.a.actionsList},i.a.createElement(u.a,{className:r.a.action,type:u.c.SECONDARY,tooltip:"Account info",onClick:k(t)},i.a.createElement(d.a,{icon:"info"})),i.a.createElement(u.a,{className:r.a.action,type:u.c.SECONDARY,tooltip:"Reconnect account",onClick:M(t)},i.a.createElement(d.a,{icon:"image-rotate"})),i.a.createElement(u.a,{className:r.a.actions,type:u.c.DANGER,tooltip:"Remove account",onClick:T(t)},i.a.createElement(d.a,{icon:"trash"})))}]}),i.a.createElement(g.a,{isOpen:a,onClose:()=>s(!1),account:_}),i.a.createElement(v.a,{isOpen:O,title:"Are you sure?",buttons:[P?"Please wait ...":"Yes I'm sure","Cancel"],okDisabled:P,cancelDisabled:P,onAccept:()=>{B(!0),f.a.deleteAccount(S.id).then(()=>A()).catch(()=>{o&&o("An error occurred while trying to remove the account."),A()})},onCancel:A},i.a.createElement("p",null,"Are you sure you want to delete"," ",i.a.createElement("span",{style:{fontWeight:"bold"}},S?S.username:""),"?"," ","This will also delete all saved media associated with this account."),S&&S.type===c.a.Type.BUSINESS&&1===n&&i.a.createElement("p",null,i.a.createElement("b",null,"Note:")," ",i.a.createElement("span",null,"Because this is your only connected Business account, deleting it will"," ","also cause any feeds that show public hashtag posts to no longer work."))))}var E=o(25),O=o(7),w=o(121),S=o(93),C=o.n(S);e.a=Object(O.b)((function(){const[,t]=i.a.useState(0),[e,o]=i.a.useState(""),n=i.a.useCallback(()=>t(t=>t++),[]);return c.b.hasAccounts()?i.a.createElement("div",{className:C.a.root},e.length>0&&i.a.createElement(E.a,{type:E.b.ERROR,showIcon:!0,isDismissible:!0,onDismiss:()=>o("")},e),i.a.createElement("div",{className:C.a.connectBtn},i.a.createElement(a.a,{onConnect:n})),i.a.createElement(_,{accounts:c.b.list,showDelete:!0,onDeleteError:o})):i.a.createElement(w.a,null)}))},16:function(t,e,o){"use strict";o.d(e,"i",(function(){return r})),o.d(e,"e",(function(){return l})),o.d(e,"b",(function(){return c})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return d})),o.d(e,"m",(function(){return p})),o.d(e,"g",(function(){return h})),o.d(e,"k",(function(){return m})),o.d(e,"j",(function(){return f})),o.d(e,"d",(function(){return b})),o.d(e,"l",(function(){return y})),o.d(e,"f",(function(){return v})),o.d(e,"h",(function(){return _}));var n=o(0),i=o.n(n),a=o(41),s=o(32);function r(t,e){!function(t,e,o){const n=i.a.useRef(!0);t(()=>{n.current=!0;const t=e(()=>new Promise(t=>{n.current&&t()}));return()=>{n.current=!1,t&&t()}},o)}(n.useEffect,t,e)}function l(t){const[e,o]=i.a.useState(t),n=i.a.useRef(e);return[e,()=>n.current,t=>o(n.current=t)]}function c(t,e,o=[]){function i(n){!t.current||t.current.contains(n.target)||o.some(t=>t&&t.current&&t.current.contains(n.target))||e(n)}Object(n.useEffect)(()=>(document.addEventListener("mousedown",i),document.addEventListener("touchend",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchend",i)}))}function u(t,e){Object(n.useEffect)(()=>{const o=()=>{0===t.filter(t=>!t.current||document.activeElement===t.current||t.current.contains(document.activeElement)).length&&e()};return document.addEventListener("keyup",o),()=>document.removeEventListener("keyup",o)},t)}function d(t,e,o=100){const[a,s]=i.a.useState(t);return Object(n.useEffect)(()=>{let n=null;return t===e?n=setTimeout(()=>s(e),o):s(!e),()=>{null!==n&&clearTimeout(n)}},[t]),[a,s]}function p(t){const[e,o]=i.a.useState(Object(s.b)()),a=()=>{const e=Object(s.b)();o(e),t&&t(e)};return Object(n.useEffect)(()=>(a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)),[]),e}function h(){return new URLSearchParams(Object(a.e)().search)}function m(t,e){const o=o=>{if(e)return(o||window.event).returnValue=t,t};Object(n.useEffect)(()=>(window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)),[e])}function f(t,e){const o=i.a.useRef(!1);return Object(n.useEffect)(()=>{o.current&&void 0!==t.current&&(t.current.scrollIntoView(Object.assign({behavior:"smooth",block:"start"},null!=e?e:{})),o.current=!1)},[o.current]),()=>o.current=!0}function g(t,e,o,i=[],a=[]){Object(n.useEffect)(()=>(i.reduce((t,e)=>t&&e,!0)&&t.addEventListener(e,o),()=>t.removeEventListener(e,o)),a)}function b(t,e,o=[],n=[]){g(document,t,e,o,n)}function y(t,e,o=[],n=[]){g(window,t,e,o,n)}function v(t){return e=>{" "!==e.key&&"Enter"!==e.key||(t(),e.preventDefault(),e.stopPropagation())}}function _(t){const[e,o]=i.a.useState(t);return[function(t){const e=i.a.useRef(t);return e.current=t,e}(e),o]}o(39)},19:function(t,e,o){"use strict";let n;e.a=n={config:{restApi:SliCommonL10n.restApi,imagesUrl:SliCommonL10n.imagesUrl},image:t=>`${n.config.imagesUrl}/${t}`}},2:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n,i=o(1),a=function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};!function(t){class e{constructor(t,e,o){this.prop=t,this.name=e,this.icon=o}}e.DESKTOP=new e("desktop","Desktop","desktop"),e.TABLET=new e("tablet","Tablet","tablet"),e.PHONE=new e("phone","Phone","smartphone"),t.Mode=e,t.MODES=[e.DESKTOP,e.TABLET,e.PHONE];class o{constructor(t,e,o){this.desktop=t,this.tablet=e,this.phone=o}get(t,e){return n(this,t,e)}set(t,e){s(this,e,t)}with(t,e){const n=r(this,e,t);return new o(n.desktop,n.tablet,n.phone)}}function n(t,e,o=!1){if(!t)return;const n=t[e.prop];return o&&null==n?t.desktop:n}function s(t,e,o){return t[o.prop]=e,t}function r(t,e,n){return s(new o(t.desktop,t.tablet,t.phone),e,n)}a([i.n],o.prototype,"desktop",void 0),a([i.n],o.prototype,"tablet",void 0),a([i.n],o.prototype,"phone",void 0),t.Value=o,t.getName=function(t){return t.name},t.getIcon=function(t){return t.icon},t.cycle=function(o){const n=t.MODES.findIndex(t=>t===o);return void 0===n?e.DESKTOP:t.MODES[(n+1)%t.MODES.length]},t.get=n,t.set=s,t.withValue=r,t.normalize=function(t,e){return null==t?e.hasOwnProperty("all")?new o(e.all,e.all,e.all):new o(e.desktop,e.tablet,e.phone):"object"==typeof t&&t.hasOwnProperty("desktop")?new o(t.desktop,t.tablet,t.phone):new o(t,t,t)},t.getModeForWindowSize=function(t){return t.width<=768?e.PHONE:t.width<=935?e.TABLET:e.DESKTOP},t.isValid=function(t){return"object"==typeof t&&t.hasOwnProperty("desktop")}}(n||(n={}))},21:function(t,e,o){t.exports={"username-col":"AccountsList__username-col",usernameCol:"AccountsList__username-col","actions-col":"AccountsList__actions-col",actionsCol:"AccountsList__actions-col","username-cell":"AccountsList__username-cell",usernameCell:"AccountsList__username-cell",username:"AccountsList__username","profile-pic":"AccountsList__profile-pic",profilePic:"AccountsList__profile-pic","account-type":"AccountsList__account-type",accountType:"AccountsList__account-type",usages:"AccountsList__usages","actions-list":"AccountsList__actions-list layout__flex-row",actionsList:"AccountsList__actions-list layout__flex-row",action:"AccountsList__action"}},225:function(t,e){!function(){t.exports=this.wp.components}()},24:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var n=o(1),i=o(69),a=function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};class s{constructor(){const t=window.location;this._pathName=t.pathname,this._baseUrl=t.protocol+"//"+t.host,this.parsed=Object(i.parse)(t.search),this.unListen=null,this.listeners=[],Object(n.o)(()=>this._path,t=>this.path=t)}createPath(t){return this._pathName+"?"+Object(i.stringify)(t)}get _path(){return this.createPath(this.parsed)}get(t,e=null){var o;return null!==(o=this.parsed[t])&&void 0!==o?o:e}at(t){return this.createPath(Object.assign({page:this.parsed.page},this.processQuery(t)))}fullUrl(t){return this._baseUrl+this.createPath(Object.assign({page:this.parsed.page},this.processQuery(t)))}with(t){return this.createPath(Object.assign(Object.assign({},this.parsed),this.processQuery(t)))}without(t){const e=Object.assign({},this.parsed);return delete e[t],this.createPath(e)}useHistory(t){return this.unListen&&this.unListen(),this.history=t,this.unListen=this.history.listen(t=>{this.parsed=Object(i.parse)(t.search),this.listeners.forEach(t=>t())}),this}listen(t){this.listeners.push(t)}unlisten(t){this.listeners=this.listeners.filter(e=>e===t)}processQuery(t){const e=Object.assign({},t);return Object.getOwnPropertyNames(t).forEach(o=>{t[o]&&0===t[o].length?delete e[o]:e[o]=t[o]}),e}}a([n.n],s.prototype,"path",void 0),a([n.n],s.prototype,"parsed",void 0),a([n.h],s.prototype,"_path",null);const r=new s},27:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));class n{static getById(t){const e=n.list.find(e=>e.id===t);return!e&&n.list.length>0?n.list[0]:e}static getName(t){const e=n.getById(t);return e?e.name:"(Missing layout)"}static addLayout(t){n.list.push(t)}}n.list=[]},3:function(t,e,o){"use strict";o.d(e,"r",(function(){return c})),o.d(e,"f",(function(){return u})),o.d(e,"b",(function(){return d})),o.d(e,"c",(function(){return p})),o.d(e,"d",(function(){return h})),o.d(e,"m",(function(){return m})),o.d(e,"h",(function(){return f})),o.d(e,"e",(function(){return g})),o.d(e,"l",(function(){return b})),o.d(e,"n",(function(){return y})),o.d(e,"j",(function(){return v})),o.d(e,"a",(function(){return _})),o.d(e,"i",(function(){return E})),o.d(e,"k",(function(){return O})),o.d(e,"q",(function(){return w})),o.d(e,"p",(function(){return S})),o.d(e,"o",(function(){return C})),o.d(e,"g",(function(){return P}));var n=o(0),i=o.n(n),a=o(161),s=o(160),r=o(10);let l=0;function c(){return l++}function u(t){const e={};return Object.getOwnPropertyNames(t).forEach(o=>{const n=t[o];Array.isArray(n)?e[o]=n.slice():e[o]="object"==typeof n?u(n):n}),e}function d(t,e){return Object.getOwnPropertyNames(e).forEach(o=>{"object"!=typeof e[o]||Array.isArray(e[o])?t[o]=e[o]:("object"!=typeof t[o]&&(t[o]={}),d(t[o],e[o]))}),t}function p(t,e){return Array.isArray(t)&&Array.isArray(e)?h(t,e):"object"==typeof t&&"object"==typeof e?m(t,e):t===e}function h(t,e,o){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(o){if(!o(t[n],e[n]))return!1}else if(!p(t[n],e[n]))return!1;return!0}function m(t,e){return t&&e&&"object"==typeof t&&"object"==typeof e?!Object.getOwnPropertyNames(t).some(o=>!p(t[o],e[o])):p(t,e)}function f(t,e,o){return o=null!=o?o:(t,e)=>t===e,t.filter(t=>!e.some(e=>o(t,e)))}function g(t,e,o){return o=null!=o?o:(t,e)=>t===e,t.every(t=>e.some(e=>o(t,e)))&&e.every(e=>t.some(t=>o(e,t)))}function b(t,e){return 0===t.tag.localeCompare(e.tag)&&t.sort===e.sort}function y(t,e,o=0,a=!1){let s=t.trim();a&&(s=s.replace(/((?:^[.*•]+(\r\n|\r|\n))+)/gm,"\n"));const r=s.split("\n"),l=r.map((t,o)=>{if(t=t.trim(),a&&/^[.*•]$/.test(t))return null;let s,l=[];for(;null!==(s=/#([^\s]+)/g.exec(t));){const e="https://instagram.com/explore/tags/"+s[1],o=i.a.createElement("a",{href:e,target:"_blank",key:c()},s[0]),n=t.substr(0,s.index),a=t.substr(s.index+s[0].length);l.push(n),l.push(o),t=a}return t.length&&l.push(t),e&&(l=e(l,o)),r.length>1&&l.push(i.a.createElement("br",{key:c()})),i.a.createElement(n.Fragment,{key:c()},l)});return o>0?l.slice(0,o):l}function v(t){const e=t.match(/instagram\.com\/p\/([^\/]+)\//);return e&&e.length>0?e[1]:null}var _;function E(t,e=_.MEDIUM){return`https://www.instagram.com/p/${t}/media/?size=${e}`}function O(t,e=_.MEDIUM){return t.thumbnail?t.thumbnail:E(v(t.permalink),e)}function w(t,e){const o=/(\s+)/g;let n,i=0,a=0,s="";for(;null!==(n=o.exec(t))&&i<e;){const e=n.index+n[1].length;s+=t.substr(a,e-a),a=e,i++}return a<t.length&&(s+=" ..."),s}function S(t){return Object(a.a)(Object(s.a)(t),{addSuffix:!0})}function C(t,e){const o=[];return t.forEach((t,n)=>{const i=n%e;Array.isArray(o[i])?o[i].push(t):o[i]=[t]}),o}function P(t,e){return function t(e){if(e.type===r.a.Type.VIDEO){const t=document.createElement("video");return t.autoplay=!1,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.visibility="hidden",document.body.appendChild(t),new Promise(o=>{t.src=e.url,t.addEventListener("loadeddata",()=>{o({width:t.videoWidth,height:t.videoHeight}),document.body.removeChild(t)})})}if(e.type===r.a.Type.IMAGE){const t=new Image;return t.src=e.url,new Promise(e=>{t.onload=()=>{e({width:t.naturalWidth,height:t.naturalHeight})}})}return e.type===r.a.Type.ALBUM?t(e.children[0]):Promise.reject("Unknown media type")}(t).then(t=>function(t,e){const o=t.width>t.height?e.width/t.width:e.height/t.height;return{width:t.width*o,height:t.height*o}}(t,e))}!function(t){t.SMALL="t",t.MEDIUM="m",t.LARGE="l"}(_||(_={}))},30:function(t,o){t.exports=e},31:function(t,e,o){"use strict";o.d(e,"a",(function(){return c})),o.d(e,"b",(function(){return u})),o.d(e,"c",(function(){return p}));var n=o(0),i=o.n(n),a=o(30),s=o.n(a),r=o(7);class l{constructor(t=new Map,e=[]){this.factories=t,this.extensions=new Map,this.cache=new Map,e.forEach(t=>this.addModule(t))}addModule(t){t.factories&&(this.factories=new Map([...this.factories,...t.factories])),t.extensions&&t.extensions.forEach((t,e)=>{this.extensions.has(e)?this.extensions.get(e).push(t):this.extensions.set(e,[t])})}get(t){let e=this.factories.get(t);if(void 0===e)throw new Error('Service "'+t+'" does not exist');let o=this.cache.get(t);if(void 0===o){o=e(this);let n=this.extensions.get(t);n&&n.forEach(t=>o=t(this,o)),this.cache.set(t,o)}return o}has(t){return this.factories.has(t)}}class c{constructor(t,e,o){this.key=t,this.mount=e,this.modules=o,this.container=null}addModules(t){this.modules=this.modules.concat(t)}run(){if(null!==this.container)return;const t=()=>{!function(t){const e=`app/${t.key}/run`;document.dispatchEvent(new d(e,t))}(this);const t=p({root:()=>null,"root/children":()=>[]});this.container=new l(t,this.modules);const e=this.container.get("root/children").map((t,e)=>i.a.createElement(t,{key:e})),o=i.a.createElement(r.a,{c:this.container},e);this.modules.forEach(t=>t.run&&t.run(this.container)),s.a.render(o,this.mount)};"complete"===document.readyState?t():window.addEventListener("load",t)}}function u(t,e){document.addEventListener(`app/${t}/run`,t=>{e(t.detail.app)})}class d extends CustomEvent{constructor(t,e){super(t,{detail:{app:e}})}}function p(t){return new Map(Object.entries(t))}},32:function(t,e,o){"use strict";function n(t,e,o={}){return window.open(t,e,function(t={}){return Object.getOwnPropertyNames(t).map(e=>`${e}=${t[e]}`).join(",")}(o))}function i(t,e){return{top:window.top.outerHeight/2+window.top.screenY-e/2,left:window.top.outerWidth/2+window.top.screenX-t/2,width:t,height:e}}function a(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return a}))},348:function(t,e){!function(){t.exports=this.wp.blocks}()},349:function(t,e){!function(){t.exports=this.wp.blockEditor}()},39:function(t,e,o){"use strict";function n(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function i(t){const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i}))},4:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n,i=o(14),a=o(1);!function(t){let e;!function(t){t.PERSONAL="PERSONAL",t.BUSINESS="BUSINESS"}(e=t.Type||(t.Type={}))}(n||(n={}));const s=Object(a.n)([]),r="https://secure.gravatar.com/avatar/4a94d759753ade2961582f7345c1d7b2?s=64&d=mm&r=g",l=t=>s.find(e=>e.id===t),c=t=>"https://instagram.com/"+t;function u(t){if("object"==typeof t&&Array.isArray(t.data))return t.data.sort((t,e)=>t.type===e.type?0:t.type===n.Type.PERSONAL?-1:1),s.splice(0,s.length),t.data.forEach(t=>s.push(Object(a.n)(t))),s;throw"Spotlight encountered a problem trying to load your accounts. Kindly contact customer support for assistance."}e.b={list:s,DEFAULT_PROFILE_PIC:r,getById:l,getByUsername:t=>s.find(e=>e.username===t),hasAccounts:()=>s.length>0,filterExisting:t=>t.filter(t=>void 0!==l(t)),idsToAccounts:t=>t.map(t=>l(t)).filter(t=>void 0!==t),getBusinessAccounts:()=>s.filter(t=>t.type===n.Type.BUSINESS),getProfilePicUrl:t=>t.customProfilePicUrl?t.customProfilePicUrl:t.profilePicUrl?t.profilePicUrl:r,getBioText:t=>t.customBio.length?t.customBio:t.bio,getProfileUrl:t=>c(t.username),getUsernameUrl:c,loadAccounts:function(){return i.a.getAccounts().then(u).catch(t=>{throw i.a.getErrorReason(t)})},loadFromResponse:u}},42:function(t,e,o){"use strict";var n=o(68);e.a=new class{constructor(){this.types=[],this.mediaStore=n.a}addPromotionType(t){this.types.push(t)}getPromotionType(t){return this.types.find(e=>e.value===t)}getMediaPromo(t,e){var o;const n=e.promotions.get(t.id);if(!n)return[{},null];const i=this.getPromotionType(n.type);return i?[null!==(o=n.data)&&void 0!==o?o:{},i]:[{},null]}executeMediaClick(t,e){const[o,n]=this.getMediaPromo(t,e);return!(null===n||!n.isValid(t,o)||"function"!=typeof n.onMediaClick)&&n.onMediaClick(t,o)}getLinkText(t,e){var o,n;const[i,a]=this.getMediaPromo(t,e);return null!==a&&a.isValid(t,i)?{text:a.getPopupLinkText&&null!==(o=a.getPopupLinkText(t,i))&&void 0!==o?o:null,url:a.getMediaUrl&&null!==(n=a.getMediaUrl(t,i))&&void 0!==n?n:null}:{text:null,url:null}}}},47:function(t,e,o){t.exports={root:"MediaThumbnail__root","media-background-fade-in-animation":"MediaThumbnail__media-background-fade-in-animation",mediaBackgroundFadeInAnimation:"MediaThumbnail__media-background-fade-in-animation","media-object-fade-in-animation":"MediaThumbnail__media-object-fade-in-animation",mediaObjectFadeInAnimation:"MediaThumbnail__media-object-fade-in-animation",image:"MediaThumbnail__image","not-available":"MediaThumbnail__not-available",notAvailable:"MediaThumbnail__not-available"}},50:function(t,e,o){t.exports={root:"SettingsField__root layout__flex-column",label:"SettingsField__label layout__flex-column",container:"SettingsField__container layout__flex-row",control:"SettingsField__control layout__flex-column","control-partial-width":"SettingsField__control-partial-width SettingsField__control layout__flex-column",controlPartialWidth:"SettingsField__control-partial-width SettingsField__control layout__flex-column","control-full-width":"SettingsField__control-full-width SettingsField__control layout__flex-column",controlFullWidth:"SettingsField__control-full-width SettingsField__control layout__flex-column",tooltip:"SettingsField__tooltip layout__flex-column"}},573:function(t,e,o){"use strict";o.r(e),o(227);var n=o(348),i=o(0),a=o.n(i),s=o(89),r=o.n(s),l=o(7),c=o(349),u=o(225),d=o(6),p=o(28),h=o(2),m=o(1),f=function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};class g{constructor(){this.feedsLoaded=!1,this.accountsLoaded=!1,this.isLoaded=!1,Object(m.o)(()=>this.feedsLoaded&&this.accountsLoaded,t=>{this.isLoaded=t})}}f([m.n],g.prototype,"feedsLoaded",void 0),f([m.n],g.prototype,"accountsLoaded",void 0),f([m.n],g.prototype,"isLoaded",void 0);var b=new g,y=o(16),v=o(19),_=o(9),E=o(107),O=o(12);const w={label:"- Choose a feed -",value:""},S=O.a.config.adminUrl+"admin.php?page=spotlight-instagram&screen=new",C=Object(l.b)(({attributes:t,setAttributes:e,className:o})=>{const n=a.a.useRef(null),[s,l]=a.a.useState(null),[m,f]=a.a.useState(!1),[g,O]=a.a.useState(!1);function C(t){if(b.isLoaded)if(t){const o=null!==n.current&&n.current===t,i=p.a.getById(t);if(o)i||(l(null),f(!0),O(!0));else{e({feedId:t}),n.current=t;const o=i?new d.a(i.options):null;o&&o.load(),l(o),f(null===o),O(null===o)}}else 1===p.a.list.length?C(p.a.list[0].id):f(!0)}function P(t){e({feedId:parseInt(t)}),f(!1)}if(Object(i.useEffect)(()=>C(t.feedId),[b.isLoaded,t.feedId]),Object(i.useEffect)(()=>p.a.list.observe(()=>{C(t.feedId)}),[t.feedId]),Object(y.m)(a.a.useCallback(t=>{s&&(s.mode=h.a.getModeForWindowSize(t))},[s])),!b.isLoaded)return a.a.createElement("div",null);const B=t.feedId?t.feedId.toString():"",k=p.a.list.map(t=>({label:t.name?t.name:"(no name)",value:""+t.id}));return a.a.createElement("div",null,!m&&a.a.createElement(c.BlockControls,null,!m&&p.a.list.length>1&&a.a.createElement(u.Toolbar,null,a.a.createElement("div",{className:r.a.selector},a.a.createElement("label",{className:r.a.selectorLabel},a.a.createElement("span",null,"Feed:")),a.a.createElement("div",{className:r.a.selectorListContainer},a.a.createElement(u.SelectControl,{value:B,onChange:P,options:k}))))),a.a.createElement("div",null,m?a.a.createElement("div",{className:r.a.root},a.a.createElement("img",{className:r.a.logo,src:v.a.image("spotlight-favicon.png"),alt:""}),g&&a.a.createElement("div",{className:r.a.missingFeedMsg},"This block is hidden because the selected feed (with ID #",B,") does not"," ","exist or has been deleted."),0===p.a.list.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:r.a.label},"You do not have any Instagram feeds."),a.a.createElement("div",{className:r.a.label},"Go to"," ",a.a.createElement("a",{href:S,target:"_blank"},"Instagram feeds → Add New")," ","to begin designing your first feed."),a.a.createElement("div",{className:r.a.label},"You can keep this page open and Spotlight's block will automatically detect"," ","your new feed.")),p.a.list.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:r.a.label},"Choose which Instagram feed to show:"),a.a.createElement(u.SelectControl,{value:B,onChange:P,options:[w].concat(k)}))):a.a.createElement("div",{className:Object(_.b)(o,r.a.feedContainer)},s&&(s.isLoading||s.isLoaded&&s.media.length>0)&&a.a.createElement(E.a,{feed:s}),s&&s.isLoaded&&0===s.media.length&&a.a.createElement("div",null,"This feed does not have any posts to show"))))}),P={title:"Spotlight Instagram Feed",description:"Embed a Spotlight Instagram feed",category:"widgets",icon:"instagram",keywords:["instagram","feed","feeds","ig","story","spotlight"],attributes:{feedId:{type:"number"}},supports:{html:!1},edit:function(t){return a.a.createElement(C,Object.assign({},t))}};var B=o(4);Object(n.registerBlockType)("spotlight/instagram",P),p.a.loadFeeds().then(()=>b.feedsLoaded=!0).catch(console.error),B.b.loadAccounts().then(()=>b.accountsLoaded=!0).catch(console.error),window.addEventListener("focus",(function(){b.feedsLoaded&&B.b.loadAccounts().then(()=>{p.a.loadFeeds().catch(console.error)}).catch(console.error)}))},59:function(t,e,o){"use strict";function n(t,e){let o;return()=>{clearTimeout(o),o=setTimeout(()=>{o=null,t()},e)}}function i(){}o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i}))},6:function(t,e,o){"use strict";o.d(e,"a",(function(){return f}));var n=o(37),i=o.n(n),a=o(1),s=o(2),r=o(27),l=o(31),c=o(4),u=o(3),d=o(13),p=o(14),h=o(59),m=function(t,e,o,n){var i,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(s=(a<3?i(s):a>3?i(e,o,s):i(e,o))||s);return a>3&&s&&Object.defineProperty(e,o,s),s};class f{constructor(t=new f.Options,e=s.a.Mode.DESKTOP){this.media=[],this.canLoadMore=!1,this.stories=[],this.numLoadedMore=0,this.totalMedia=0,this.mode=s.a.Mode.DESKTOP,this.isLoaded=!1,this.isLoading=!1,this.isLoadingMore=!1,this.numMediaToShow=0,this.numMediaPerPage=0,this.cancelFetch=()=>{},this.options=new f.Options(t),this.localMedia=[],this.mode=e,this.mediaCounter=this._numMediaPerPage,this.reload=Object(h.a)(()=>this.load(),300),Object(a.o)(()=>this.mode,()=>{0===this.numLoadedMore&&(this.mediaCounter=this._numMediaPerPage,this.localMedia.length<this.numMediaToShow&&this.loadMedia(this.localMedia.length,this.numMediaToShow-this.localMedia.length))}),Object(a.o)(()=>this.getReloadOptions(),()=>this.reload()),Object(a.o)(()=>({num:this._numMediaPerPage,mode:this.mode}),({num:t})=>{this.localMedia.length<t&&t<=this.totalMedia?this.reload():this.mediaCounter=Math.max(1,t)}),Object(a.o)(()=>this._media,t=>this.media=t),Object(a.o)(()=>this._numMediaToShow,t=>this.numMediaToShow=t),Object(a.o)(()=>this._numMediaPerPage,t=>this.numMediaPerPage=t),Object(a.o)(()=>this._canLoadMore,t=>this.canLoadMore=t)}get _media(){return this.localMedia.slice(0,this.numMediaToShow)}get _numMediaToShow(){return Math.min(this.mediaCounter,this.totalMedia)}get _numMediaPerPage(){return Math.max(1,f.ComputedOptions.normalizeMultiInt(this.options.numPosts,this.mode,1))}get _canLoadMore(){return this.localMedia.length>this.mediaCounter||this.localMedia.length<this.totalMedia}loadMore(){const t=this.numMediaToShow+this._numMediaPerPage-this.localMedia.length;return this.isLoadingMore=!0,t>0?this.loadMedia(this.localMedia.length,this._numMediaPerPage).then(()=>{this.mediaCounter+=this._numMediaPerPage,this.numLoadedMore++,this.isLoadingMore=!1}):new Promise(t=>{this.numLoadedMore++,this.mediaCounter+=this._numMediaPerPage,this.isLoadingMore=!1,t()})}load(){return this.numLoadedMore=0,this.loadMedia(0,this._numMediaPerPage,!0).then(()=>(this.isLoaded=!0,this.mediaCounter=this._numMediaPerPage))}loadMedia(t,e,o){return this.cancelFetch(),f.Options.hasSources(this.options,!0)?(this.isLoading=!0,new Promise((n,a)=>{p.a.getFeedMedia(this.options,t,e,t=>this.cancelFetch=t).then(t=>{var e;if("object"!=typeof t||"object"!=typeof t.data||!Array.isArray(t.data.media))throw{message:"The media response is malformed or corrupt",response:t};o&&(this.localMedia=[]),this.localMedia.push(...t.data.media),this.stories=null!==(e=t.data.stories)&&void 0!==e?e:[],this.totalMedia=t.data.total,n&&n()}).catch(t=>{var e;if(i.a.isCancel(t))return null;const o=new f.Events.FetchFailEvent(f.Events.FETCH_FAIL,{detail:{feed:this,message:null!==(e=t.response?t.response.data.message:void 0)&&void 0!==e?e:t.message,response:t.response}});return document.dispatchEvent(o),a&&a(t),t}).finally(()=>this.isLoading=!1)})):new Promise(t=>{this.localMedia=[],this.totalMedia=0,t&&t()})}getReloadOptions(){return JSON.stringify({accounts:this.options.accounts,hashtags:this.options.hashtags,tagged:this.options.tagged,postOrder:this.options.postOrder,mediaType:this.options.mediaType,moderation:this.options.moderation,moderationMode:this.options.moderationMode,hashtagBlacklist:this.options.hashtagBlacklist,hashtagWhitelist:this.options.hashtagWhitelist,captionBlacklist:this.options.captionBlacklist,captionWhitelist:this.options.captionWhitelist,hashtagBlacklistSettings:this.options.hashtagBlacklistSettings,hashtagWhitelistSettings:this.options.hashtagWhitelistSettings,captionBlacklistSettings:this.options.captionBlacklistSettings,captionWhitelistSettings:this.options.captionWhitelistSettings})}}m([a.n],f.prototype,"media",void 0),m([a.n],f.prototype,"canLoadMore",void 0),m([a.n],f.prototype,"stories",void 0),m([a.n],f.prototype,"numLoadedMore",void 0),m([a.n],f.prototype,"options",void 0),m([a.n],f.prototype,"totalMedia",void 0),m([a.n],f.prototype,"mode",void 0),m([a.n],f.prototype,"isLoaded",void 0),m([a.n],f.prototype,"isLoading",void 0),m([a.n],f.prototype,"isLoadingMore",void 0),m([a.f],f.prototype,"reload",void 0),m([a.n],f.prototype,"localMedia",void 0),m([a.n],f.prototype,"numMediaToShow",void 0),m([a.n],f.prototype,"numMediaPerPage",void 0),m([a.n],f.prototype,"mediaCounter",void 0),m([a.h],f.prototype,"_media",null),m([a.h],f.prototype,"_numMediaToShow",null),m([a.h],f.prototype,"_numMediaPerPage",null),m([a.h],f.prototype,"_canLoadMore",null),m([a.f],f.prototype,"loadMore",null),m([a.f],f.prototype,"load",null),m([a.f],f.prototype,"loadMedia",null),function(t){let e,o,n,i,p,h,f,g,b;!function(t){t.FETCH_FAIL="sli/feed/fetch_fail";class e extends CustomEvent{constructor(t,e){super(t,e)}}t.FetchFailEvent=e}(e=t.Events||(t.Events={}));class y{constructor(t={}){y.setFromObject(this,t)}static setFromObject(e,o={}){var n,i,a,l,u,d,p,h,m,f,g,b;return e.accounts=o.accounts?o.accounts.slice():t.DefaultOptions.accounts,e.hashtags=o.hashtags?o.hashtags.slice():t.DefaultOptions.hashtags,e.tagged=o.tagged?o.tagged.slice():t.DefaultOptions.tagged,e.layout=r.a.getById(o.layout).id,e.numColumns=s.a.normalize(o.numColumns,t.DefaultOptions.numColumns),e.highlightFreq=s.a.normalize(o.highlightFreq,t.DefaultOptions.highlightFreq),e.mediaType=o.mediaType||t.DefaultOptions.mediaType,e.postOrder=o.postOrder||t.DefaultOptions.postOrder,e.numPosts=s.a.normalize(o.numPosts,t.DefaultOptions.numPosts),e.linkBehavior=s.a.normalize(o.linkBehavior,t.DefaultOptions.linkBehavior),e.feedWidth=s.a.normalize(o.feedWidth,t.DefaultOptions.feedWidth),e.feedHeight=s.a.normalize(o.feedHeight,t.DefaultOptions.feedHeight),e.feedPadding=s.a.normalize(o.feedPadding,t.DefaultOptions.feedPadding),e.imgPadding=s.a.normalize(o.imgPadding,t.DefaultOptions.imgPadding),e.textSize=s.a.normalize(o.textSize,t.DefaultOptions.textSize),e.bgColor=o.bgColor||t.DefaultOptions.bgColor,e.hoverInfo=o.hoverInfo?o.hoverInfo.slice():t.DefaultOptions.hoverInfo,e.textColorHover=o.textColorHover||t.DefaultOptions.textColorHover,e.bgColorHover=o.bgColorHover||t.DefaultOptions.bgColorHover,e.showHeader=s.a.normalize(o.showHeader,t.DefaultOptions.showHeader),e.headerInfo=s.a.normalize(o.headerInfo,t.DefaultOptions.headerInfo),e.headerAccount=null!==(n=o.headerAccount)&&void 0!==n?n:t.DefaultOptions.headerAccount,e.headerAccount=null===e.headerAccount||void 0===c.b.getById(e.headerAccount)?c.b.list.length>0?c.b.list[0].id:null:e.headerAccount,e.headerStyle=s.a.normalize(o.headerStyle,t.DefaultOptions.headerStyle),e.headerTextSize=s.a.normalize(o.headerTextSize,t.DefaultOptions.headerTextSize),e.headerPhotoSize=s.a.normalize(o.headerPhotoSize,t.DefaultOptions.headerPhotoSize),e.headerTextColor=o.headerTextColor||t.DefaultOptions.headerTextColor,e.headerBgColor=o.headerBgColor||t.DefaultOptions.bgColor,e.headerPadding=s.a.normalize(o.headerPadding,t.DefaultOptions.headerPadding),e.customProfilePic=null!==(i=o.customProfilePic)&&void 0!==i?i:t.DefaultOptions.customProfilePic,e.customBioText=o.customBioText||t.DefaultOptions.customBioText,e.includeStories=null!==(a=o.includeStories)&&void 0!==a?a:t.DefaultOptions.includeStories,e.storiesInterval=o.storiesInterval||t.DefaultOptions.storiesInterval,e.showCaptions=s.a.normalize(o.showCaptions,t.DefaultOptions.showCaptions),e.captionMaxLength=s.a.normalize(o.captionMaxLength,t.DefaultOptions.captionMaxLength),e.captionRemoveDots=null!==(l=o.captionRemoveDots)&&void 0!==l?l:t.DefaultOptions.captionRemoveDots,e.captionSize=s.a.normalize(o.captionSize,t.DefaultOptions.captionSize),e.captionColor=o.captionColor||t.DefaultOptions.captionColor,e.showLikes=s.a.normalize(o.showLikes,t.DefaultOptions.showLikes),e.showComments=s.a.normalize(o.showComments,t.DefaultOptions.showCaptions),e.lcIconSize=s.a.normalize(o.lcIconSize,t.DefaultOptions.lcIconSize),e.likesIconColor=null!==(u=o.likesIconColor)&&void 0!==u?u:t.DefaultOptions.likesIconColor,e.commentsIconColor=o.commentsIconColor||t.DefaultOptions.commentsIconColor,e.lightboxShowSidebar=null!==(d=o.lightboxShowSidebar)&&void 0!==d?d:t.DefaultOptions.lightboxShowSidebar,e.numLightboxComments=o.numLightboxComments||t.DefaultOptions.numLightboxComments,e.showLoadMoreBtn=s.a.normalize(o.showLoadMoreBtn,t.DefaultOptions.showLoadMoreBtn),e.loadMoreBtnTextColor=o.loadMoreBtnTextColor||t.DefaultOptions.loadMoreBtnTextColor,e.loadMoreBtnBgColor=o.loadMoreBtnBgColor||t.DefaultOptions.loadMoreBtnBgColor,e.loadMoreBtnText=o.loadMoreBtnText||t.DefaultOptions.loadMoreBtnText,e.autoload=null!==(p=o.autoload)&&void 0!==p?p:t.DefaultOptions.autoload,e.showFollowBtn=s.a.normalize(o.showFollowBtn,t.DefaultOptions.showFollowBtn),e.followBtnText=null!==(h=o.followBtnText)&&void 0!==h?h:t.DefaultOptions.followBtnText,e.followBtnTextColor=o.followBtnTextColor||t.DefaultOptions.followBtnTextColor,e.followBtnBgColor=o.followBtnBgColor||t.DefaultOptions.followBtnBgColor,e.followBtnLocation=s.a.normalize(o.followBtnLocation,t.DefaultOptions.followBtnLocation),e.hashtagWhitelist=o.hashtagWhitelist||t.DefaultOptions.hashtagWhitelist,e.hashtagBlacklist=o.hashtagBlacklist||t.DefaultOptions.hashtagBlacklist,e.captionWhitelist=o.captionWhitelist||t.DefaultOptions.captionWhitelist,e.captionBlacklist=o.captionBlacklist||t.DefaultOptions.captionBlacklist,e.hashtagWhitelistSettings=null!==(m=o.hashtagWhitelistSettings)&&void 0!==m?m:t.DefaultOptions.hashtagWhitelistSettings,e.hashtagBlacklistSettings=null!==(f=o.hashtagBlacklistSettings)&&void 0!==f?f:t.DefaultOptions.hashtagBlacklistSettings,e.captionWhitelistSettings=null!==(g=o.captionWhitelistSettings)&&void 0!==g?g:t.DefaultOptions.captionWhitelistSettings,e.captionBlacklistSettings=null!==(b=o.captionBlacklistSettings)&&void 0!==b?b:t.DefaultOptions.captionBlacklistSettings,e.moderation=o.moderation||t.DefaultOptions.moderation,e.moderationMode=o.moderationMode||t.DefaultOptions.moderationMode,e.promotionEnabled=o.promotionEnabled||t.DefaultOptions.promotionEnabled,Array.isArray(o.promotions)?e.promotions=new Map(o.promotions):o.promotions&&o.promotions.constructor&&"Map"===o.promotions.constructor.name?e.promotions=o.promotions:"object"==typeof o.promotions?e.promotions=new Map(Object.entries(o.promotions)):e.promotions=t.DefaultOptions.promotions,e}static getAllAccounts(t){const e=c.b.idsToAccounts(t.accounts),o=c.b.idsToAccounts(t.tagged);return{all:e.concat(o),accounts:e,tagged:o}}static getSources(t){return{accounts:c.b.idsToAccounts(t.accounts),tagged:c.b.idsToAccounts(t.tagged),hashtags:c.b.getBusinessAccounts().length>0?t.hashtags.filter(t=>t.tag.length>0):[]}}static hasSources(e,o){const n=t.Options.getSources(e),i=n.accounts.length>0||o&&n.tagged.length>0,a=o&&n.hashtags.length>0;return i||a}static isLimitingPosts(t){return t.moderation.length>0||t.hashtagBlacklist.length>0||t.hashtagWhitelist.length>0||t.captionBlacklist.length>0||t.captionWhitelist.length>0}}m([a.n],y.prototype,"accounts",void 0),m([a.n],y.prototype,"hashtags",void 0),m([a.n],y.prototype,"tagged",void 0),m([a.n],y.prototype,"layout",void 0),m([a.n],y.prototype,"numColumns",void 0),m([a.n],y.prototype,"highlightFreq",void 0),m([a.n],y.prototype,"mediaType",void 0),m([a.n],y.prototype,"postOrder",void 0),m([a.n],y.prototype,"numPosts",void 0),m([a.n],y.prototype,"linkBehavior",void 0),m([a.n],y.prototype,"feedWidth",void 0),m([a.n],y.prototype,"feedHeight",void 0),m([a.n],y.prototype,"feedPadding",void 0),m([a.n],y.prototype,"imgPadding",void 0),m([a.n],y.prototype,"textSize",void 0),m([a.n],y.prototype,"bgColor",void 0),m([a.n],y.prototype,"textColorHover",void 0),m([a.n],y.prototype,"bgColorHover",void 0),m([a.n],y.prototype,"hoverInfo",void 0),m([a.n],y.prototype,"showHeader",void 0),m([a.n],y.prototype,"headerInfo",void 0),m([a.n],y.prototype,"headerAccount",void 0),m([a.n],y.prototype,"headerStyle",void 0),m([a.n],y.prototype,"headerTextSize",void 0),m([a.n],y.prototype,"headerPhotoSize",void 0),m([a.n],y.prototype,"headerTextColor",void 0),m([a.n],y.prototype,"headerBgColor",void 0),m([a.n],y.prototype,"headerPadding",void 0),m([a.n],y.prototype,"customBioText",void 0),m([a.n],y.prototype,"customProfilePic",void 0),m([a.n],y.prototype,"includeStories",void 0),m([a.n],y.prototype,"storiesInterval",void 0),m([a.n],y.prototype,"showCaptions",void 0),m([a.n],y.prototype,"captionMaxLength",void 0),m([a.n],y.prototype,"captionRemoveDots",void 0),m([a.n],y.prototype,"captionSize",void 0),m([a.n],y.prototype,"captionColor",void 0),m([a.n],y.prototype,"showLikes",void 0),m([a.n],y.prototype,"showComments",void 0),m([a.n],y.prototype,"lcIconSize",void 0),m([a.n],y.prototype,"likesIconColor",void 0),m([a.n],y.prototype,"commentsIconColor",void 0),m([a.n],y.prototype,"lightboxShowSidebar",void 0),m([a.n],y.prototype,"numLightboxComments",void 0),m([a.n],y.prototype,"showLoadMoreBtn",void 0),m([a.n],y.prototype,"loadMoreBtnText",void 0),m([a.n],y.prototype,"loadMoreBtnTextColor",void 0),m([a.n],y.prototype,"loadMoreBtnBgColor",void 0),m([a.n],y.prototype,"autoload",void 0),m([a.n],y.prototype,"showFollowBtn",void 0),m([a.n],y.prototype,"followBtnText",void 0),m([a.n],y.prototype,"followBtnTextColor",void 0),m([a.n],y.prototype,"followBtnBgColor",void 0),m([a.n],y.prototype,"followBtnLocation",void 0),m([a.n],y.prototype,"hashtagWhitelist",void 0),m([a.n],y.prototype,"hashtagBlacklist",void 0),m([a.n],y.prototype,"captionWhitelist",void 0),m([a.n],y.prototype,"captionBlacklist",void 0),m([a.n],y.prototype,"hashtagWhitelistSettings",void 0),m([a.n],y.prototype,"hashtagBlacklistSettings",void 0),m([a.n],y.prototype,"captionWhitelistSettings",void 0),m([a.n],y.prototype,"captionBlacklistSettings",void 0),m([a.n],y.prototype,"moderation",void 0),m([a.n],y.prototype,"moderationMode",void 0),t.Options=y;class v{constructor(t){Object.getOwnPropertyNames(t).map(e=>{this[e]=t[e]})}getCaption(t){const e=t.caption?t.caption:"";return this.captionMaxLength&&e.length?Object(u.n)(Object(u.q)(e,this.captionMaxLength)):e}static compute(e,o=s.a.Mode.DESKTOP){const n=new v({accounts:c.b.filterExisting(e.accounts),tagged:c.b.filterExisting(e.tagged),hashtags:e.hashtags.filter(t=>t.tag.length>0),layout:r.a.getById(e.layout),highlightFreq:s.a.get(e.highlightFreq,o,!0),linkBehavior:s.a.get(e.linkBehavior,o,!0),bgColor:Object(d.a)(e.bgColor),textColorHover:Object(d.a)(e.textColorHover),bgColorHover:Object(d.a)(e.bgColorHover),hoverInfo:e.hoverInfo,showHeader:s.a.get(e.showHeader,o,!0),headerInfo:s.a.get(e.headerInfo,o,!0),headerStyle:s.a.get(e.headerStyle,o,!0),headerTextColor:Object(d.a)(e.headerTextColor),headerBgColor:Object(d.a)(e.headerBgColor),headerPadding:s.a.get(e.headerPadding,o,!0),includeStories:e.includeStories,storiesInterval:e.storiesInterval,showCaptions:s.a.get(e.showCaptions,o,!0),captionMaxLength:s.a.get(e.captionMaxLength,o,!0),captionRemoveDots:e.captionRemoveDots,captionColor:Object(d.a)(e.captionColor),showLikes:s.a.get(e.showLikes,o,!0),showComments:s.a.get(e.showComments,o,!0),likesIconColor:Object(d.a)(e.likesIconColor),commentsIconColor:Object(d.a)(e.commentsIconColor),lightboxShowSidebar:e.lightboxShowSidebar,numLightboxComments:e.numLightboxComments,showLoadMoreBtn:s.a.get(e.showLoadMoreBtn,o,!0),loadMoreBtnTextColor:Object(d.a)(e.loadMoreBtnTextColor),loadMoreBtnBgColor:Object(d.a)(e.loadMoreBtnBgColor),loadMoreBtnText:e.loadMoreBtnText,showFollowBtn:s.a.get(e.showFollowBtn,o,!0),autoload:e.autoload,followBtnLocation:s.a.get(e.followBtnLocation,o,!0),followBtnTextColor:Object(d.a)(e.followBtnTextColor),followBtnBgColor:Object(d.a)(e.followBtnBgColor),followBtnText:e.followBtnText,account:null,showBio:!1,bioText:null,profilePhotoUrl:c.b.DEFAULT_PROFILE_PIC,feedWidth:"",feedHeight:"",feedPadding:"",imgPadding:"",textSize:"",headerTextSize:"",headerPhotoSize:"",captionSize:"",lcIconSize:"",showLcIcons:!1});if(n.numColumns=this.getNumCols(e,o),n.numPosts=this.getNumPosts(e,o),n.allAccounts=n.accounts.concat(n.tagged.filter(t=>!n.accounts.includes(t))),n.allAccounts.length>0&&(n.account=e.headerAccount&&n.allAccounts.includes(e.headerAccount)?c.b.getById(e.headerAccount):c.b.getById(n.allAccounts[0])),n.showHeader=n.showHeader&&null!==n.account,n.showHeader&&(n.profilePhotoUrl=e.customProfilePic.length?e.customProfilePic:c.b.getProfilePicUrl(n.account)),n.showFollowBtn=n.showFollowBtn&&null!==n.account,n.showBio=n.headerInfo.some(e=>e===t.HeaderInfo.BIO),n.showBio){const t=e.customBioText.trim().length>0?e.customBioText:null!==n.account?c.b.getBioText(n.account):"";n.bioText=Object(u.n)(t),n.showBio=n.bioText.length>0}return n.feedWidth=this.normalizeCssSize(e.feedWidth,o,"auto"),n.feedHeight=this.normalizeCssSize(e.feedHeight,o,"auto"),n.feedPadding=this.normalizeCssSize(e.feedPadding,o,"0"),n.imgPadding=this.normalizeCssSize(e.imgPadding,o,"0"),n.textSize=this.normalizeCssSize(e.textSize,o,"inherit",!0),n.headerTextSize=this.normalizeCssSize(e.headerTextSize,o,"inherit"),n.headerPhotoSize=this.normalizeCssSize(e.headerPhotoSize,o,"50px"),n.captionSize=this.normalizeCssSize(e.captionSize,o,"inherit"),n.lcIconSize=this.normalizeCssSize(e.lcIconSize,o,"inherit"),n.buttonPadding=Math.max(10,s.a.get(e.imgPadding,o))+"px",n.showLcIcons=n.showLikes||n.showComments,n}static getNumCols(t,e){return Math.max(1,this.normalizeMultiInt(t.numColumns,e,1))}static getNumPosts(t,e){return Math.max(1,this.normalizeMultiInt(t.numPosts,e,1))}static normalizeMultiInt(t,e,o=0){const n=parseInt(s.a.get(t,e)+"");return isNaN(n)?e===s.a.Mode.DESKTOP?o:this.normalizeMultiInt(t,s.a.Mode.DESKTOP,o):n}static normalizeCssSize(t,e,o=null,n=!1){const i=s.a.get(t,e,n);return i?i+"px":o}}t.ComputedOptions=v,t.HashtagSorting=Object(l.c)({recent:"Most recent",popular:"Most popular"}),function(t){t.ALL="all",t.PHOTOS="photos",t.VIDEOS="videos"}(o=t.MediaType||(t.MediaType={})),function(t){t.NOTHING="nothing",t.SELF="self",t.NEW_TAB="new_tab",t.LIGHTBOX="lightbox"}(n=t.LinkBehavior||(t.LinkBehavior={})),function(t){t.DATE_ASC="date_asc",t.DATE_DESC="date_desc",t.POPULARITY_ASC="popularity_asc",t.POPULARITY_DESC="popularity_desc",t.RANDOM="random"}(i=t.PostOrder||(t.PostOrder={})),function(t){t.USERNAME="username",t.DATE="date",t.CAPTION="caption",t.LIKES_COMMENTS="likes_comments",t.INSTA_LINK="insta_link"}(p=t.HoverInfo||(t.HoverInfo={})),function(t){t.NORMAL="normal",t.BOXED="boxed",t.CENTERED="centered"}(h=t.HeaderStyle||(t.HeaderStyle={})),function(t){t.BIO="bio",t.PROFILE_PIC="profile_pic",t.FOLLOWERS="followers",t.MEDIA_COUNT="media_count"}(f=t.HeaderInfo||(t.HeaderInfo={})),function(t){t.HEADER="header",t.BOTTOM="bottom",t.BOTH="both"}(g=t.FollowBtnLocation||(t.FollowBtnLocation={})),function(t){t.WHITELIST="whitelist",t.BLACKLIST="blacklist"}(b=t.ModerationMode||(t.ModerationMode={})),t.DefaultOptions={accounts:[],hashtags:[],tagged:[],layout:null,numColumns:{desktop:3},highlightFreq:{desktop:7},mediaType:o.ALL,postOrder:i.DATE_DESC,numPosts:{desktop:9},linkBehavior:{desktop:n.LIGHTBOX,phone:n.NEW_TAB},feedWidth:{desktop:""},feedHeight:{desktop:""},feedPadding:{desktop:20,tablet:14,phone:10},imgPadding:{desktop:14,tablet:10,phone:6},textSize:{all:""},bgColor:{r:255,g:255,b:255,a:1},hoverInfo:[p.LIKES_COMMENTS,p.INSTA_LINK],textColorHover:{r:255,g:255,b:255,a:1},bgColorHover:{r:0,g:0,b:0,a:.5},showHeader:{desktop:!0},headerInfo:{desktop:[f.PROFILE_PIC,f.BIO]},headerAccount:null,headerStyle:{desktop:h.NORMAL,phone:h.CENTERED},headerTextSize:{desktop:""},headerPhotoSize:{desktop:50},headerTextColor:{r:0,g:0,b:0,a:1},headerBgColor:{r:255,g:255,b:255,a:1},headerPadding:{desktop:0},customProfilePic:0,customBioText:"",includeStories:!1,storiesInterval:5,showCaptions:{desktop:!1},captionMaxLength:{desktop:0},captionRemoveDots:!1,captionSize:{desktop:0},captionColor:{r:0,g:0,b:0,a:1},showLikes:{desktop:!1},showComments:{desktop:!1},lcIconSize:{desktop:14},likesIconColor:{r:0,g:0,b:0,a:1},commentsIconColor:{r:0,g:0,b:0,a:1},lightboxShowSidebar:!1,numLightboxComments:50,showLoadMoreBtn:{desktop:!0},loadMoreBtnTextColor:{r:255,g:255,b:255,a:1},loadMoreBtnBgColor:{r:0,g:149,b:246,a:1},loadMoreBtnText:"Load more",autoload:!1,showFollowBtn:{desktop:!0},followBtnText:"Follow on Instagram",followBtnTextColor:{r:255,g:255,b:255,a:1},followBtnBgColor:{r:0,g:149,b:246,a:1},followBtnLocation:{desktop:g.HEADER,phone:g.BOTTOM},hashtagWhitelist:[],hashtagBlacklist:[],captionWhitelist:[],captionBlacklist:[],hashtagWhitelistSettings:!0,hashtagBlacklistSettings:!0,captionWhitelistSettings:!0,captionBlacklistSettings:!0,moderation:[],moderationMode:b.BLACKLIST,promotionEnabled:!0,promotions:new Map}}(f||(f={}))},64:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var n=o(0),i=o.n(n),a=o(73),s=o.n(a);function r(){return i.a.createElement("div",{className:s.a.root})}},65:function(t,e,o){t.exports={root:"SettingsGroup__root layout__flex-column",title:"SettingsGroup__title",content:"SettingsGroup__content","field-list":"SettingsGroup__field-list layout__flex-column",fieldList:"SettingsGroup__field-list layout__flex-column"}},67:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var n=o(0),i=o.n(n),a=o(47),s=o.n(a),r=o(10),l=o(3),c=o(64),u=o(9);function d(t){var{media:e,className:o,size:a,onLoadImage:d,width:p,height:h}=t,m=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]])}return o}(t,["media","className","size","onLoadImage","width","height"]);const f=i.a.useRef(),[g,b]=i.a.useState(!0);return Object(n.useLayoutEffect)(()=>{if(f.current){f.current.onload=()=>{b(!1),d&&d()};const t=e.type===r.a.Type.ALBUM&&e.children.length>0?e.children[0]:e,o=Object(l.j)(t.permalink),n=e.type===r.a.Type.VIDEO?Object(l.i)(o,l.a.LARGE):e.url;if(void 0===a){const t=Object(l.i)(o,l.a.SMALL),i=Object(l.i)(o,l.a.MEDIUM),a=Object(l.i)(o,l.a.LARGE);f.current.src=e.type===r.a.Type.VIDEO?n:i,f.current.srcset=`${t} 150w, ${i} 320w, ${a} 600w, ${n} 1000w`}else f.current.src=n}return()=>f.current.onload=()=>null},[e,a]),e.url&&e.url.length>0?i.a.createElement("div",Object.assign({className:Object(u.b)(s.a.root,o)},m),i.a.createElement("img",{ref:f,className:s.a.image,loading:"lazy",alt:e.caption,width:p,height:h}),g&&i.a.createElement(c.a,null)):i.a.createElement("div",{className:s.a.notAvailable},i.a.createElement("span",null,"Thumbnail not available"))}},68:function(t,e,o){"use strict";o.d(e,"a",(function(){return r})),o.d(e,"b",(function(){return l}));var n=o(6),i=o(14),a=o(3);class s{constructor(t=!1,e=!1){this.incModeration=!1,this.incFilters=!1,this.prevOptions=null,this.media=new Array,this.incModeration=t,this.incFilters=e}fetchMedia(t,e){if(null!==this.prevOptions&&!this.isCacheInvalid(t))return Promise.resolve(this.media);const o=Object.assign({},t.options,{moderation:this.incModeration?t.options.moderation:[],moderationMode:t.options.moderationMode,hashtagBlacklist:this.incFilters?t.options.hashtagBlacklist:[],hashtagWhitelist:this.incFilters?t.options.hashtagWhitelist:[],captionBlacklist:this.incFilters?t.options.captionBlacklist:[],captionWhitelist:this.incFilters?t.options.captionWhitelist:[],hashtagBlacklistSettings:!!this.incFilters&&t.options.hashtagBlacklistSettings,hashtagWhitelistSettings:!!this.incFilters&&t.options.hashtagWhitelistSettings,captionBlacklistSettings:!!this.incFilters&&t.options.captionBlacklistSettings,captionWhitelistSettings:!!this.incFilters&&t.options.captionWhitelistSettings});return e&&e(),i.a.getFeedMedia(o).then(e=>(this.prevOptions=new n.a.Options(t.options),this.media=e.data.media,this.media))}isCacheInvalid(t){const e=t.options,o=this.prevOptions;if(Object(a.h)(t.media,this.media,(t,e)=>t.id===e.id).length>0)return!0;if(!Object(a.e)(e.accounts,o.accounts))return!0;if(!Object(a.e)(e.tagged,o.tagged))return!0;if(!Object(a.e)(e.hashtags,o.hashtags,a.l))return!0;if(this.incModeration){if(e.moderationMode!==o.moderationMode)return!0;if(!Object(a.e)(e.moderation,o.moderation))return!0}if(this.incFilters){if(e.captionWhitelistSettings!==o.captionWhitelistSettings||e.captionBlacklistSettings!==o.captionBlacklistSettings||e.hashtagWhitelistSettings!==o.hashtagWhitelistSettings||e.hashtagBlacklistSettings!==o.hashtagBlacklistSettings)return!0;if(!Object(a.e)(e.captionWhitelist,o.captionWhitelist))return!0;if(!Object(a.e)(e.captionBlacklist,o.captionBlacklist))return!0;if(!Object(a.e)(e.hashtagWhitelist,o.hashtagWhitelist))return!0;if(!Object(a.e)(e.hashtagBlacklist,o.hashtagBlacklist))return!0}return!1}}const r=new s(!0,!0),l=new s(!1,!0)},73:function(t,e,o){t.exports={root:"MediaLoading__root",animation:"MediaLoading__animation"}},74:function(t,e,o){"use strict";var n=o(0),i=o.n(n),a=o(92),s=o.n(a),r=o(4),l=o(9),c=o(7);e.a=Object(c.b)((function(t){var{account:e,square:o,className:n}=t,a=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]])}return o}(t,["account","square","className"]);const c=r.b.getProfilePicUrl(e),u=Object(l.b)(o?s.a.square:s.a.round,n);return i.a.createElement("img",Object.assign({},a,{className:u,src:r.b.DEFAULT_PROFILE_PIC,srcSet:c+" 1x",alt:e.username+" profile picture"}))}))},75:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(0),i=o.n(n),a=o(116),s=o.n(a),r=o(12),l=o(9);const c=({className:t,children:e})=>i.a.createElement("a",{className:Object(l.b)(s.a.pill,t),href:r.a.resources.upgradeLocalUrl,target:"_blank",tabIndex:-1},"PRO",e)},76:function(t,e,o){t.exports={root:"SettingsPage__root layout__flex-column",content:"SettingsPage__content","group-list":"SettingsPage__group-list layout__flex-column",groupList:"SettingsPage__group-list layout__flex-column"}},8:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o(0),i=o.n(n),a=o(9);const s=t=>{var{icon:e,className:o}=t,n=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(o[n[i]]=t[n[i]])}return o}(t,["icon","className"]);return i.a.createElement("span",Object.assign({className:Object(a.b)("dashicons","dashicons-"+e,o)},n))}},89:function(t,e,o){t.exports={root:"SliWpBlockEdit__root",logo:"SliWpBlockEdit__logo",label:"SliWpBlockEdit__label","missing-feed-msg":"SliWpBlockEdit__missing-feed-msg SliWpBlockEdit__label",missingFeedMsg:"SliWpBlockEdit__missing-feed-msg SliWpBlockEdit__label",selector:"SliWpBlockEdit__selector","selector-label":"SliWpBlockEdit__selector-label",selectorLabel:"SliWpBlockEdit__selector-label","selector-list-container":"SliWpBlockEdit__selector-list-container",selectorListContainer:"SliWpBlockEdit__selector-list-container","feed-container":"SliWpBlockEdit__feed-container",feedContainer:"SliWpBlockEdit__feed-container"}},9:function(t,e,o){"use strict";function n(...t){return t.filter(t=>!!t).join(" ")}function i(t){return n(...Object.getOwnPropertyNames(t).map(e=>t[e]?e:null))}function a(t,e={}){let o=Object.getOwnPropertyNames(e).map(o=>e[o]?t+o:null);return t+" "+o.filter(t=>!!t).join(" ")}function s(...t){return e=>{t.forEach(t=>t&&function(t,e){"function"==typeof t?t(e):t.current=e}(t,e))}}o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return a})),o.d(e,"d",(function(){return s}))},92:function(t,e,o){t.exports={root:"ProfilePic__root",round:"ProfilePic__round ProfilePic__root",square:"ProfilePic__square ProfilePic__root"}},93:function(t,e,o){t.exports={"connect-btn":"AccountsPage__connect-btn",connectBtn:"AccountsPage__connect-btn"}}},[[573,0,1,3,2]]])}));