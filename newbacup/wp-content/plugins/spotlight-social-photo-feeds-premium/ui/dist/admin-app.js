!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.spotlight=t(require("React"),require("ReactDOM")):e.spotlight=t(e.React,e.ReactDOM)}(window,(function(e,t){return(window.webpackJsonpspotlight=window.webpackJsonpspotlight||[]).push([[4],{0:function(t,n){t.exports=e},10:function(e,t,n){"use strict";var o;n.d(t,"a",(function(){return o})),function(e){let t,n;!function(e){e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.ALBUM="CAROUSEL_ALBUM"}(t=e.Type||(e.Type={})),function(e){let t;!function(e){e.PERSONAL_ACCOUNT="PERSONAL_ACCOUNT",e.BUSINESS_ACCOUNT="BUSINESS_ACCOUNT",e.TAGGED_ACCOUNT="TAGGED_ACCOUNT",e.RECENT_HASHTAG="RECENT_HASHTAG",e.POPULAR_HASHTAG="POPULAR_HASHTAG",e.USER_STORY="USER_STORY"}(t=e.Type||(e.Type={}))}(n=e.Source||(e.Source={})),e.getAsRows=(e,t)=>{e=e.slice(),t=t>0?t:1;let n=[];for(;e.length;)n.push(e.splice(0,t));if(n.length>0){const e=n.length-1;for(;n[e].length<t;)n[e].push({})}return n},e.isFromHashtag=e=>e.source.type===n.Type.POPULAR_HASHTAG||e.source.type===n.Type.RECENT_HASHTAG}(o||(o={}))},100:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n(0),a=n.n(o),i=n(40),s=n(11),r=n.n(s),l=n(7),c=n(4),u=n(578),d=n(576),m=n(45),p=n(120),h=n(108),g=n(34),f=n(5),b=n(25),_=n(12),v=n(74),E=Object(l.b)((function({account:e,onUpdate:t}){const[n,o]=a.a.useState(!1),[i,s]=a.a.useState(""),[l,E]=a.a.useState(!1),y=e.type===c.a.Type.PERSONAL,w=c.b.getBioText(e),S=()=>{e.customBio=i,E(!0),g.a.updateAccount(e).then(()=>{o(!1),E(!1),t&&t()})},O=n=>{e.customProfilePicUrl=n,E(!0),g.a.updateAccount(e).then(()=>{E(!1),t&&t()})};return a.a.createElement("div",{className:r.a.root},a.a.createElement("div",{className:r.a.container},a.a.createElement("div",{className:r.a.infoColumn},a.a.createElement("a",{href:c.b.getProfileUrl(e),target:"_blank",className:r.a.username},"@",e.username),a.a.createElement("div",{className:r.a.row},a.a.createElement("span",{className:r.a.label},"Spotlight ID:"),e.id),a.a.createElement("div",{className:r.a.row},a.a.createElement("span",{className:r.a.label},"User ID:"),e.userId),a.a.createElement("div",{className:r.a.row},a.a.createElement("span",{className:r.a.label},"Type:"),e.type),!n&&a.a.createElement("div",{className:r.a.row},a.a.createElement("div",null,a.a.createElement("span",{className:r.a.label},"Bio:"),a.a.createElement("a",{className:r.a.editBioLink,onClick:()=>{s(c.b.getBioText(e)),o(!0)}},"Edit bio"),a.a.createElement("pre",{className:r.a.bio},w.length>0?w:"(No bio)"))),n&&a.a.createElement("div",{className:r.a.row},a.a.createElement("textarea",{className:r.a.bioEditor,value:i,onChange:e=>{s(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&e.ctrlKey&&(S(),e.preventDefault(),e.stopPropagation())},rows:4}),a.a.createElement("div",{className:r.a.bioFooter},a.a.createElement("div",{className:r.a.bioEditingControls},l&&a.a.createElement("span",null,"Please wait ...")),a.a.createElement("div",{className:r.a.bioEditingControls},a.a.createElement(f.a,{className:r.a.bioEditingButton,type:f.c.DANGER,disabled:l,onClick:()=>{e.customBio="",E(!0),g.a.updateAccount(e).then(()=>{o(!1),E(!1),t&&t()})}},"Reset"),a.a.createElement(f.a,{className:r.a.bioEditingButton,type:f.c.SECONDARY,disabled:l,onClick:()=>{o(!1)}},"Cancel"),a.a.createElement(f.a,{className:r.a.bioEditingButton,type:f.c.PRIMARY,disabled:l,onClick:S},"Save"))))),a.a.createElement("div",{className:r.a.picColumn},a.a.createElement("div",null,a.a.createElement(v.a,{account:e,className:r.a.profilePic})),a.a.createElement(p.a,{id:"account-custom-profile-pic",title:"Select profile picture",mediaType:"image",onSelect:e=>{const t=parseInt(e.attributes.id),n=h.a.media.attachment(t).attributes.url;O(n)}},({open:e})=>a.a.createElement(f.a,{type:f.c.SECONDARY,className:r.a.setCustomPic,onClick:e},"Change profile picture")),e.customProfilePicUrl.length>0&&a.a.createElement("a",{className:r.a.resetCustomPic,onClick:()=>{O("")}},"Reset profile picture"))),y&&a.a.createElement("div",{className:r.a.personalInfoMessage},a.a.createElement(b.a,{type:b.b.INFO,showIcon:!0},"Due to restrictions set by Instagram, Spotlight cannot import the profile photo and bio"," ","text for Personal accounts."," ",a.a.createElement("a",{href:_.a.resources.customPersonalInfoUrl,target:"_blank"},"Click here to learn more"),".")),a.a.createElement(m.a,{label:"View access token",stealth:!0},a.a.createElement("div",{className:r.a.row},e.accessToken&&a.a.createElement("div",null,a.a.createElement("p",null,a.a.createElement("span",{className:r.a.label},"Expires on:"),a.a.createElement("span",null,e.accessToken.expiry?Object(u.a)(Object(d.a)(e.accessToken.expiry),"PPPP"):"Unknown")),a.a.createElement("pre",{className:r.a.accessToken},e.accessToken.code)))))}));function y({isOpen:e,onClose:t,onUpdate:n,account:o}){return a.a.createElement(i.a,{isOpen:e,title:"Account details",icon:"admin-users",onClose:t},a.a.createElement(i.a.Content,null,a.a.createElement(E,{account:o,onUpdate:n})))}},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(0),a=n.n(o),i=n(7),s=n(27),r=n(6);const l=Object(i.b)(({feed:e})=>{const t=s.a.getById(e.options.layout),n=r.a.ComputedOptions.compute(e.options,e.mode);return a.a.createElement("div",{className:"feed"},a.a.createElement(t.component,{feed:e,options:n}))})},11:function(e,t,n){e.exports={root:"AccountInfo__root",container:"AccountInfo__container",column:"AccountInfo__column","info-column":"AccountInfo__info-column AccountInfo__column",infoColumn:"AccountInfo__info-column AccountInfo__column","pic-column":"AccountInfo__pic-column AccountInfo__column",picColumn:"AccountInfo__pic-column AccountInfo__column",id:"AccountInfo__id",username:"AccountInfo__username","profile-pic":"AccountInfo__profile-pic",profilePic:"AccountInfo__profile-pic",label:"AccountInfo__label",row:"AccountInfo__row",pre:"AccountInfo__pre",bio:"AccountInfo__bio AccountInfo__pre","link-button":"AccountInfo__link-button",linkButton:"AccountInfo__link-button","edit-bio-link":"AccountInfo__edit-bio-link AccountInfo__link-button",editBioLink:"AccountInfo__edit-bio-link AccountInfo__link-button","bio-editor":"AccountInfo__bio-editor",bioEditor:"AccountInfo__bio-editor","bio-footer":"AccountInfo__bio-footer",bioFooter:"AccountInfo__bio-footer","bio-editing-controls":"AccountInfo__bio-editing-controls",bioEditingControls:"AccountInfo__bio-editing-controls","access-token":"AccountInfo__access-token AccountInfo__pre",accessToken:"AccountInfo__access-token AccountInfo__pre","set-custom-pic":"AccountInfo__set-custom-pic",setCustomPic:"AccountInfo__set-custom-pic","reset-custom-pic":"AccountInfo__reset-custom-pic AccountInfo__link-button",resetCustomPic:"AccountInfo__reset-custom-pic AccountInfo__link-button",subtext:"AccountInfo__subtext","personal-info-message":"AccountInfo__personal-info-message",personalInfoMessage:"AccountInfo__personal-info-message"}},116:function(e,t,n){e.exports={pill:"ProPill__pill"}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var o=n(0),a=n.n(o),i=n(76),s=n.n(i),r=n(23),l=n(65),c=n.n(l),u=n(50),d=n.n(u),m=n(7),p=n(3),h=n(122),g=Object(m.b)((function({field:e}){const t="settings-field-"+Object(p.r)(),n=!e.label||e.fullWidth;return a.a.createElement("div",{className:d.a.root},e.label&&a.a.createElement("div",{className:d.a.label},a.a.createElement("label",{htmlFor:t},e.label)),a.a.createElement("div",{className:d.a.container},a.a.createElement("div",{className:n?d.a.controlFullWidth:d.a.controlPartialWidth},a.a.createElement(e.component,{id:t})),e.tooltip&&a.a.createElement("div",{className:d.a.tooltip},a.a.createElement(h.a,null,e.tooltip))))}));function f({group:e}){return a.a.createElement("div",{className:c.a.root},e.title.length>0&&a.a.createElement("h1",{className:c.a.title},e.title),e.component&&a.a.createElement("div",{className:c.a.content},a.a.createElement(e.component)),a.a.createElement("div",{className:c.a.fieldList},e.fields.map(e=>a.a.createElement(g,{field:e,key:e.id}))))}var b=n(16);function _({page:e}){return Object(b.d)("keydown",e=>{e.key&&"s"===e.key.toLowerCase()&&e.ctrlKey&&(r.b.save(),e.preventDefault(),e.stopPropagation())}),a.a.createElement("article",{className:s.a.root},e.component&&a.a.createElement("div",{className:s.a.content},a.a.createElement(e.component)),e.groups&&a.a.createElement("div",{className:s.a.groupList},e.groups.map(e=>a.a.createElement(f,{key:e.id,group:e}))))}},123:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var o=n(0),a=n.n(o),i=n(96),s=n.n(i),r=n(209);function l({children:e,pathStyle:t}){let{path:n,left:o,right:i,center:r}=e;return n=null!=n?n:[],o=null!=o?o:[],i=null!=i?i:[],r=null!=r?r:[],a.a.createElement("div",{className:s.a.root},a.a.createElement("div",{className:s.a.leftList},a.a.createElement("div",{className:s.a.pathList},n.map((e,n)=>a.a.createElement(m,{key:n,style:t},a.a.createElement("div",{className:s.a.item},e)))),a.a.createElement("div",{className:s.a.leftList},a.a.createElement(u,null,o))),a.a.createElement("div",{className:s.a.centerList},a.a.createElement(u,null,r)),a.a.createElement("div",{className:s.a.rightList},a.a.createElement(u,null,i)))}function c(){return a.a.createElement(r.a,null)}function u({children:e}){const t=Array.isArray(e)?e:[e];return a.a.createElement(a.a.Fragment,null,t.map((e,t)=>a.a.createElement(d,{key:t},e)))}function d({children:e}){return a.a.createElement("div",{className:s.a.item},e)}function m({children:e,style:t}){return a.a.createElement("div",{className:s.a.pathSegment},e,a.a.createElement(p,{style:t}))}function p({style:e}){if("none"===e)return null;const t="chevron"===e?"M0 0 L100 50 L0 100":"M50 0 L50 100";return a.a.createElement("div",{className:s.a.separator},a.a.createElement("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",preserveAspectRatio:"none"},a.a.createElement("path",{d:t,fill:"none",stroke:"currentcolor",strokeLinejoin:"bevel"})))}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,a=n(1),i=n(12);n(14),function(e){e.list=Object(a.n)([]),e.fetch=function(){return i.a.restApi.getNotifications().then(t=>{"object"==typeof t&&Array.isArray(t.data)&&e.list.push(...t.data)}).catch(e=>{})}}(o||(o={}))},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>"string"==typeof e?e:"r"in e?"rgba("+e.r+","+e.g+","+e.b+","+e.a+")":"h"in e?"hsla("+e.h+","+e.s+","+e.l+","+e.a+")":"#fff"},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const o={value:"link",label:"Link",getIcon:()=>"admin-links",getPopupLinkText:(e,t)=>"string"==typeof t.linkText&&t.linkText.length>0?t.linkText:a.getDefaultLinkText(t),isValid:(e,t)=>t.linkType&&("url"===t.linkType&&t.url&&t.url.length>0||t.postId>0&&t.postUrl&&t.postUrl.length>0),getMediaUrl:(e,t)=>"url"===t.linkType?t.url:t.postUrl,onMediaClick:(e,t)=>{let n=o.getMediaUrl(e,t);return!!n&&(window.open(n,t.newTab?"_blank":"_self"),!0)}};var a;t.b=o,function(e){e.getDefaultLinkText=function(e){switch(e.linkType){case"product":return"Buy it now";case"post":return"Read the article";case"page":return"Learn more";default:return"Visit link"}}}(a||(a={}))},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));const o=(e,t)=>e.startsWith(t)?e:t+e,a=e=>{return(t=e,"#",t.startsWith("#")?t.substr("#".length):t).split(/\s/).map((e,t)=>t>0?e[0].toUpperCase()+e.substr(1):e).join("").replace(/\W/gi,"");var t}},14:function(e,t,n){"use strict";var o=n(37),a=n.n(o),i=n(19),s=n(39);const r=i.a.config.restApi.baseUrl,l={};i.a.config.restApi.authToken&&(l["X-Sli-Auth-Token"]=i.a.config.restApi.authToken);const c=a.a.create({baseURL:r,headers:l}),u={config:i.a.config.restApi,driver:c,getAccounts:()=>c.get("/accounts"),getFeeds:()=>c.get("/feeds"),getFeedMedia:(e,t=0,n=0,o)=>{const i=o?new a.a.CancelToken(o):void 0;return c.post("/media/fetch",{options:e,num:n,from:t},{cancelToken:i})},getErrorReason:e=>{let t;return t="object"==typeof e.response?e.response.data:"string"==typeof e.message?e.message:e.toString(),Object(s.b)(t)}};t.a=u},146:function(e,t,n){e.exports={root:"PopupTextField__root layout__flex-row",container:"PopupTextField__container layout__flex-row","edit-container":"PopupTextField__edit-container PopupTextField__container layout__flex-row",editContainer:"PopupTextField__edit-container PopupTextField__container layout__flex-row","static-container":"PopupTextField__static-container PopupTextField__container layout__flex-row",staticContainer:"PopupTextField__static-container PopupTextField__container layout__flex-row","edit-icon":"PopupTextField__edit-icon dashicons__dashicon-normal",editIcon:"PopupTextField__edit-icon dashicons__dashicon-normal",label:"PopupTextField__label","done-btn":"PopupTextField__done-btn",doneBtn:"PopupTextField__done-btn"}},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0),a=n.n(o),i=n(32);function s({breakpoints:e,children:t}){const[n,s]=a.a.useState(1/0),r=a.a.useCallback(()=>{const t=Object(i.b)();s(()=>e.reduce((e,n)=>t.width<=n&&n<e?n:e,1/0))},[e]);return Object(o.useEffect)(()=>(r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),t(n)}},149:function(e,t,n){"use strict";var o=n(0),a=n.n(o),i=n(124),s=n(21),r=n.n(s),l=n(49),c=n(4),u=n(5),d=n(8),m=n(119),p=n(28),h=n(24),g=n(34),f=n(100),b=n(74),_=n(12),v=n(86);function E({accounts:e,showDelete:t,onDeleteError:n}){const o=(e=null!=e?e:[]).filter(e=>e.type===c.a.Type.BUSINESS).length,[i,s]=a.a.useState(!1),[E,y]=a.a.useState(null),[w,S]=a.a.useState(!1),[O,C]=a.a.useState(),[k,T]=a.a.useState(!1),L=e=>()=>{y(e),s(!0)},N=e=>()=>{g.a.openAuthWindow(e.type,0,()=>{_.a.restApi.deleteAccountMedia(e.id)})},P=e=>()=>{C(e),S(!0)},x=()=>{T(!1),C(null),S(!1)},A={cols:{username:r.a.usernameCol,type:r.a.typeCol,usages:r.a.usagesCol,actions:r.a.actionsCol},cells:{username:r.a.usernameCell,type:r.a.typeCell,usages:r.a.usagesCell,actions:r.a.actionsCell}};return a.a.createElement("div",{className:"accounts-list"},a.a.createElement(m.a,{styleMap:A,rows:e,cols:[{id:"username",label:"Username",render:e=>a.a.createElement("div",null,a.a.createElement(b.a,{account:e,className:r.a.profilePic}),a.a.createElement("a",{className:r.a.username,onClick:L(e)},e.username))},{id:"type",label:"Type",render:e=>a.a.createElement("span",{className:r.a.accountType},e.type)},{id:"usages",label:"Feeds",render:e=>a.a.createElement("span",{className:r.a.usages},e.usages.map((e,t)=>!!p.a.getById(e)&&a.a.createElement(l.a,{key:t,to:h.a.at({screen:"edit",id:e.toString()})},p.a.getById(e).name)))},{id:"actions",label:"Actions",render:e=>t&&a.a.createElement("div",{className:r.a.actionsList},a.a.createElement(u.a,{className:r.a.action,type:u.c.SECONDARY,tooltip:"Account info",onClick:L(e)},a.a.createElement(d.a,{icon:"info"})),a.a.createElement(u.a,{className:r.a.action,type:u.c.SECONDARY,tooltip:"Reconnect account",onClick:N(e)},a.a.createElement(d.a,{icon:"image-rotate"})),a.a.createElement(u.a,{className:r.a.actions,type:u.c.DANGER,tooltip:"Remove account",onClick:P(e)},a.a.createElement(d.a,{icon:"trash"})))}]}),a.a.createElement(f.a,{isOpen:i,onClose:()=>s(!1),account:E}),a.a.createElement(v.a,{isOpen:w,title:"Are you sure?",buttons:[k?"Please wait ...":"Yes I'm sure","Cancel"],okDisabled:k,cancelDisabled:k,onAccept:()=>{T(!0),g.a.deleteAccount(O.id).then(()=>x()).catch(()=>{n&&n("An error occurred while trying to remove the account."),x()})},onCancel:x},a.a.createElement("p",null,"Are you sure you want to delete"," ",a.a.createElement("span",{style:{fontWeight:"bold"}},O?O.username:""),"?"," ","This will also delete all saved media associated with this account."),O&&O.type===c.a.Type.BUSINESS&&1===o&&a.a.createElement("p",null,a.a.createElement("b",null,"Note:")," ",a.a.createElement("span",null,"Because this is your only connected Business account, deleting it will"," ","also cause any feeds that show public hashtag posts to no longer work."))))}var y=n(25),w=n(7),S=n(121),O=n(93),C=n.n(O);t.a=Object(w.b)((function(){const[,e]=a.a.useState(0),[t,n]=a.a.useState(""),o=a.a.useCallback(()=>e(e=>e++),[]);return c.b.hasAccounts()?a.a.createElement("div",{className:C.a.root},t.length>0&&a.a.createElement(y.a,{type:y.b.ERROR,showIcon:!0,isDismissible:!0,onDismiss:()=>n("")},t),a.a.createElement("div",{className:C.a.connectBtn},a.a.createElement(i.a,{onConnect:o})),a.a.createElement(E,{accounts:c.b.list,showDelete:!0,onDeleteError:n})):a.a.createElement(S.a,null)}))},16:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"m",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"l",(function(){return _})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return E}));var o=n(0),a=n.n(o),i=n(41),s=n(32);function r(e,t){!function(e,t,n){const o=a.a.useRef(!0);e(()=>{o.current=!0;const e=t(()=>new Promise(e=>{o.current&&e()}));return()=>{o.current=!1,e&&e()}},n)}(o.useEffect,e,t)}function l(e){const[t,n]=a.a.useState(e),o=a.a.useRef(t);return[t,()=>o.current,e=>n(o.current=e)]}function c(e,t,n=[]){function a(o){!e.current||e.current.contains(o.target)||n.some(e=>e&&e.current&&e.current.contains(o.target))||t(o)}Object(o.useEffect)(()=>(document.addEventListener("mousedown",a),document.addEventListener("touchend",a),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("touchend",a)}))}function u(e,t){Object(o.useEffect)(()=>{const n=()=>{0===e.filter(e=>!e.current||document.activeElement===e.current||e.current.contains(document.activeElement)).length&&t()};return document.addEventListener("keyup",n),()=>document.removeEventListener("keyup",n)},e)}function d(e,t,n=100){const[i,s]=a.a.useState(e);return Object(o.useEffect)(()=>{let o=null;return e===t?o=setTimeout(()=>s(t),n):s(!t),()=>{null!==o&&clearTimeout(o)}},[e]),[i,s]}function m(e){const[t,n]=a.a.useState(Object(s.b)()),i=()=>{const t=Object(s.b)();n(t),e&&e(t)};return Object(o.useEffect)(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[]),t}function p(){return new URLSearchParams(Object(i.e)().search)}function h(e,t){const n=n=>{if(t)return(n||window.event).returnValue=e,e};Object(o.useEffect)(()=>(window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)),[t])}function g(e,t){const n=a.a.useRef(!1);return Object(o.useEffect)(()=>{n.current&&void 0!==e.current&&(e.current.scrollIntoView(Object.assign({behavior:"smooth",block:"start"},null!=t?t:{})),n.current=!1)},[n.current]),()=>n.current=!0}function f(e,t,n,a=[],i=[]){Object(o.useEffect)(()=>(a.reduce((e,t)=>e&&t,!0)&&e.addEventListener(t,n),()=>e.removeEventListener(t,n)),i)}function b(e,t,n=[],o=[]){f(document,e,t,n,o)}function _(e,t,n=[],o=[]){f(window,e,t,n,o)}function v(e){return t=>{" "!==t.key&&"Enter"!==t.key||(e(),t.preventDefault(),t.stopPropagation())}}function E(e){const[t,n]=a.a.useState(e);return[function(e){const t=a.a.useRef(e);return t.current=e,t}(t),n]}n(39)},181:function(e,t,n){e.exports={root:"SpotlightGame__root layout__flex-column","game-text":"SpotlightGame__game-text",gameText:"SpotlightGame__game-text",score:"SpotlightGame__score SpotlightGame__game-text",message:"SpotlightGame__message SpotlightGame__game-text","message-bubble":"SpotlightGame__message-bubble",messageBubble:"SpotlightGame__message-bubble"}},182:function(e,t,n){e.exports={"field-container":"AdvancedSettings__field-container layout__flex-row",fieldContainer:"AdvancedSettings__field-container layout__flex-row","field-element":"AdvancedSettings__field-element",fieldElement:"AdvancedSettings__field-element","field-label":"AdvancedSettings__field-label AdvancedSettings__field-element",fieldLabel:"AdvancedSettings__field-label AdvancedSettings__field-element","field-control":"AdvancedSettings__field-control AdvancedSettings__field-element layout__flex-column",fieldControl:"AdvancedSettings__field-control AdvancedSettings__field-element layout__flex-column","field-centered":"AdvancedSettings__field-centered",fieldCentered:"AdvancedSettings__field-centered"}},183:function(e,t,n){e.exports={label:"TabNavbar__label",tab:"TabNavbar__tab",current:"TabNavbar__current TabNavbar__tab",disabled:"TabNavbar__disabled TabNavbar__tab"}},19:function(e,t,n){"use strict";let o;t.a=o={config:{restApi:SliCommonL10n.restApi,imagesUrl:SliCommonL10n.imagesUrl},image:e=>`${o.config.imagesUrl}/${e}`}},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,a=n(1),i=function(e,t,n,o){var a,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){class t{constructor(e,t,n){this.prop=e,this.name=t,this.icon=n}}t.DESKTOP=new t("desktop","Desktop","desktop"),t.TABLET=new t("tablet","Tablet","tablet"),t.PHONE=new t("phone","Phone","smartphone"),e.Mode=t,e.MODES=[t.DESKTOP,t.TABLET,t.PHONE];class n{constructor(e,t,n){this.desktop=e,this.tablet=t,this.phone=n}get(e,t){return o(this,e,t)}set(e,t){s(this,t,e)}with(e,t){const o=r(this,t,e);return new n(o.desktop,o.tablet,o.phone)}}function o(e,t,n=!1){if(!e)return;const o=e[t.prop];return n&&null==o?e.desktop:o}function s(e,t,n){return e[n.prop]=t,e}function r(e,t,o){return s(new n(e.desktop,e.tablet,e.phone),t,o)}i([a.n],n.prototype,"desktop",void 0),i([a.n],n.prototype,"tablet",void 0),i([a.n],n.prototype,"phone",void 0),e.Value=n,e.getName=function(e){return e.name},e.getIcon=function(e){return e.icon},e.cycle=function(n){const o=e.MODES.findIndex(e=>e===n);return void 0===o?t.DESKTOP:e.MODES[(o+1)%e.MODES.length]},e.get=o,e.set=s,e.withValue=r,e.normalize=function(e,t){return null==e?t.hasOwnProperty("all")?new n(t.all,t.all,t.all):new n(t.desktop,t.tablet,t.phone):"object"==typeof e&&e.hasOwnProperty("desktop")?new n(e.desktop,e.tablet,e.phone):new n(e,e,e)},e.getModeForWindowSize=function(e){return e.width<=768?t.PHONE:e.width<=935?t.TABLET:t.DESKTOP},e.isValid=function(e){return"object"==typeof e&&e.hasOwnProperty("desktop")}}(o||(o={}))},21:function(e,t,n){e.exports={"username-col":"AccountsList__username-col",usernameCol:"AccountsList__username-col","actions-col":"AccountsList__actions-col",actionsCol:"AccountsList__actions-col","username-cell":"AccountsList__username-cell",usernameCell:"AccountsList__username-cell",username:"AccountsList__username","profile-pic":"AccountsList__profile-pic",profilePic:"AccountsList__profile-pic","account-type":"AccountsList__account-type",accountType:"AccountsList__account-type",usages:"AccountsList__usages","actions-list":"AccountsList__actions-list layout__flex-row",actionsList:"AccountsList__actions-list layout__flex-row",action:"AccountsList__action"}},219:function(e,t,n){e.exports={"contact-us":"FeedsOnboarding__contact-us",contactUs:"FeedsOnboarding__contact-us","call-to-action":"FeedsOnboarding__call-to-action",callToAction:"FeedsOnboarding__call-to-action"}},221:function(e,t,n){e.exports={buttons:"SettingsNavbar__buttons layout__flex-row","cancel-btn":"SettingsNavbar__cancel-btn",cancelBtn:"SettingsNavbar__cancel-btn"}},224:function(e,t,n){e.exports={"menu-link":"PageMenuNavbar__menu-link",menuLink:"PageMenuNavbar__menu-link","menu-ref":"PageMenuNavbar__menu-ref",menuRef:"PageMenuNavbar__menu-ref","arrow-down":"PageMenuNavbar__arrow-down",arrowDown:"PageMenuNavbar__arrow-down"}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(1),a=n(69),i=function(e,t,n,o){var a,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};class s{constructor(){const e=window.location;this._pathName=e.pathname,this._baseUrl=e.protocol+"//"+e.host,this.parsed=Object(a.parse)(e.search),this.unListen=null,this.listeners=[],Object(o.o)(()=>this._path,e=>this.path=e)}createPath(e){return this._pathName+"?"+Object(a.stringify)(e)}get _path(){return this.createPath(this.parsed)}get(e,t=null){var n;return null!==(n=this.parsed[e])&&void 0!==n?n:t}at(e){return this.createPath(Object.assign({page:this.parsed.page},this.processQuery(e)))}fullUrl(e){return this._baseUrl+this.createPath(Object.assign({page:this.parsed.page},this.processQuery(e)))}with(e){return this.createPath(Object.assign(Object.assign({},this.parsed),this.processQuery(e)))}without(e){const t=Object.assign({},this.parsed);return delete t[e],this.createPath(t)}useHistory(e){return this.unListen&&this.unListen(),this.history=e,this.unListen=this.history.listen(e=>{this.parsed=Object(a.parse)(e.search),this.listeners.forEach(e=>e())}),this}listen(e){this.listeners.push(e)}unlisten(e){this.listeners=this.listeners.filter(t=>t===e)}processQuery(e){const t=Object.assign({},e);return Object.getOwnPropertyNames(e).forEach(n=>{e[n]&&0===e[n].length?delete t[n]:t[n]=e[n]}),t}}i([o.n],s.prototype,"path",void 0),i([o.n],s.prototype,"parsed",void 0),i([o.h],s.prototype,"_path",null);const r=new s},255:function(e,t,n){e.exports={"create-new-btn":"FeedsScreen__create-new-btn",createNewBtn:"FeedsScreen__create-new-btn"}},257:function(e,t,n){e.exports={"arrow-link":"WizardNavbar__arrow-link",arrowLink:"WizardNavbar__arrow-link","prev-link":"WizardNavbar__prev-link WizardNavbar__arrow-link",prevLink:"WizardNavbar__prev-link WizardNavbar__arrow-link","next-link":"WizardNavbar__next-link WizardNavbar__arrow-link",nextLink:"WizardNavbar__next-link WizardNavbar__arrow-link"}},258:function(e,t,n){e.exports={message:"FeedNamePrompt__message",input:"FeedNamePrompt__input"}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{static getById(e){const t=o.list.find(t=>t.id===e);return!t&&o.list.length>0?o.list[0]:t}static getName(e){const t=o.getById(e);return t?t.name:"(Missing layout)"}static addLayout(e){o.list.push(e)}}o.list=[]},3:function(e,t,n){"use strict";n.d(t,"r",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"n",(function(){return _})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return E})),n.d(t,"i",(function(){return y})),n.d(t,"k",(function(){return w})),n.d(t,"q",(function(){return S})),n.d(t,"p",(function(){return O})),n.d(t,"o",(function(){return C})),n.d(t,"g",(function(){return k}));var o=n(0),a=n.n(o),i=n(161),s=n(160),r=n(10);let l=0;function c(){return l++}function u(e){const t={};return Object.getOwnPropertyNames(e).forEach(n=>{const o=e[n];Array.isArray(o)?t[n]=o.slice():t[n]="object"==typeof o?u(o):o}),t}function d(e,t){return Object.getOwnPropertyNames(t).forEach(n=>{"object"!=typeof t[n]||Array.isArray(t[n])?e[n]=t[n]:("object"!=typeof e[n]&&(e[n]={}),d(e[n],t[n]))}),e}function m(e,t){return Array.isArray(e)&&Array.isArray(t)?p(e,t):"object"==typeof e&&"object"==typeof t?h(e,t):e===t}function p(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(n){if(!n(e[o],t[o]))return!1}else if(!m(e[o],t[o]))return!1;return!0}function h(e,t){return e&&t&&"object"==typeof e&&"object"==typeof t?!Object.getOwnPropertyNames(e).some(n=>!m(e[n],t[n])):m(e,t)}function g(e,t,n){return n=null!=n?n:(e,t)=>e===t,e.filter(e=>!t.some(t=>n(e,t)))}function f(e,t,n){return n=null!=n?n:(e,t)=>e===t,e.every(e=>t.some(t=>n(e,t)))&&t.every(t=>e.some(e=>n(t,e)))}function b(e,t){return 0===e.tag.localeCompare(t.tag)&&e.sort===t.sort}function _(e,t,n=0,i=!1){let s=e.trim();i&&(s=s.replace(/((?:^[.*•]+(\r\n|\r|\n))+)/gm,"\n"));const r=s.split("\n"),l=r.map((e,n)=>{if(e=e.trim(),i&&/^[.*•]$/.test(e))return null;let s,l=[];for(;null!==(s=/#([^\s]+)/g.exec(e));){const t="https://instagram.com/explore/tags/"+s[1],n=a.a.createElement("a",{href:t,target:"_blank",key:c()},s[0]),o=e.substr(0,s.index),i=e.substr(s.index+s[0].length);l.push(o),l.push(n),e=i}return e.length&&l.push(e),t&&(l=t(l,n)),r.length>1&&l.push(a.a.createElement("br",{key:c()})),a.a.createElement(o.Fragment,{key:c()},l)});return n>0?l.slice(0,n):l}function v(e){const t=e.match(/instagram\.com\/p\/([^\/]+)\//);return t&&t.length>0?t[1]:null}var E;function y(e,t=E.MEDIUM){return`https://www.instagram.com/p/${e}/media/?size=${t}`}function w(e,t=E.MEDIUM){return e.thumbnail?e.thumbnail:y(v(e.permalink),t)}function S(e,t){const n=/(\s+)/g;let o,a=0,i=0,s="";for(;null!==(o=n.exec(e))&&a<t;){const t=o.index+o[1].length;s+=e.substr(i,t-i),i=t,a++}return i<e.length&&(s+=" ..."),s}function O(e){return Object(i.a)(Object(s.a)(e),{addSuffix:!0})}function C(e,t){const n=[];return e.forEach((e,o)=>{const a=o%t;Array.isArray(n[a])?n[a].push(e):n[a]=[e]}),n}function k(e,t){return function e(t){if(t.type===r.a.Type.VIDEO){const e=document.createElement("video");return e.autoplay=!1,e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.visibility="hidden",document.body.appendChild(e),new Promise(n=>{e.src=t.url,e.addEventListener("loadeddata",()=>{n({width:e.videoWidth,height:e.videoHeight}),document.body.removeChild(e)})})}if(t.type===r.a.Type.IMAGE){const e=new Image;return e.src=t.url,new Promise(t=>{e.onload=()=>{t({width:e.naturalWidth,height:e.naturalHeight})}})}return t.type===r.a.Type.ALBUM?e(t.children[0]):Promise.reject("Unknown media type")}(e).then(e=>function(e,t){const n=e.width>e.height?t.width/e.width:t.height/e.height;return{width:e.width*n,height:e.height*n}}(e,t))}!function(e){e.SMALL="t",e.MEDIUM="m",e.LARGE="l"}(E||(E={}))},30:function(e,n){e.exports=t},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m}));var o=n(0),a=n.n(o),i=n(30),s=n.n(i),r=n(7);class l{constructor(e=new Map,t=[]){this.factories=e,this.extensions=new Map,this.cache=new Map,t.forEach(e=>this.addModule(e))}addModule(e){e.factories&&(this.factories=new Map([...this.factories,...e.factories])),e.extensions&&e.extensions.forEach((e,t)=>{this.extensions.has(t)?this.extensions.get(t).push(e):this.extensions.set(t,[e])})}get(e){let t=this.factories.get(e);if(void 0===t)throw new Error('Service "'+e+'" does not exist');let n=this.cache.get(e);if(void 0===n){n=t(this);let o=this.extensions.get(e);o&&o.forEach(e=>n=e(this,n)),this.cache.set(e,n)}return n}has(e){return this.factories.has(e)}}class c{constructor(e,t,n){this.key=e,this.mount=t,this.modules=n,this.container=null}addModules(e){this.modules=this.modules.concat(e)}run(){if(null!==this.container)return;const e=()=>{!function(e){const t=`app/${e.key}/run`;document.dispatchEvent(new d(t,e))}(this);const e=m({root:()=>null,"root/children":()=>[]});this.container=new l(e,this.modules);const t=this.container.get("root/children").map((e,t)=>a.a.createElement(e,{key:t})),n=a.a.createElement(r.a,{c:this.container},t);this.modules.forEach(e=>e.run&&e.run(this.container)),s.a.render(n,this.mount)};"complete"===document.readyState?e():window.addEventListener("load",e)}}function u(e,t){document.addEventListener(`app/${e}/run`,e=>{t(e.detail.app)})}class d extends CustomEvent{constructor(e,t){super(e,{detail:{app:t}})}}function m(e){return new Map(Object.entries(e))}},32:function(e,t,n){"use strict";function o(e,t,n={}){return window.open(e,t,function(e={}){return Object.getOwnPropertyNames(e).map(t=>`${t}=${e[t]}`).join(",")}(n))}function a(e,t){return{top:window.top.outerHeight/2+window.top.screenY-t/2,left:window.top.outerWidth/2+window.top.screenX-e/2,width:e,height:t}}function i(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}))},339:function(e,t,n){},341:function(e,t,n){e.exports={root:"ProUpgradeBtn__root"}},343:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(146),a=n.n(o),i=n(0),s=n.n(i),r=n(5),l=n(8),c=n(77),u=n(9);function d({value:e,defaultValue:t,onDone:n}){const o=s.a.useRef(),[i,d]=s.a.useState(""),[m,p]=s.a.useState(!1),h=()=>{d(e),p(!0)},g=()=>{p(!1),n&&n(i),o.current&&o.current.focus()},f=e=>{switch(e.key){case"Enter":case" ":h()}};return s.a.createElement("div",{className:a.a.root},s.a.createElement(c.a,{isOpen:m,onBlur:()=>p(!1),placement:"bottom"},({ref:n})=>s.a.createElement("div",{ref:Object(u.d)(n,o),className:a.a.staticContainer,onClick:h,onKeyPress:f,tabIndex:0,role:"button"},s.a.createElement("span",{className:a.a.label},e||t),s.a.createElement(l.a,{icon:"edit",className:a.a.editIcon})),s.a.createElement(c.b,null,s.a.createElement(c.d,null,s.a.createElement("div",{className:a.a.editContainer},s.a.createElement("input",{type:"text",value:i,onChange:e=>{d(e.target.value)},onKeyDown:e=>{switch(e.key){case"Enter":g();break;case"Escape":p(!1);break;default:return}e.preventDefault(),e.stopPropagation()},autoFocus:!0,placeholder:"Feed name"}),s.a.createElement(r.a,{className:a.a.doneBtn,type:r.c.PRIMARY,size:r.b.NORMAL,onClick:g},s.a.createElement(l.a,{icon:"yes"})))))))}},344:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(0),a=n.n(o),i=n(257),s=n.n(i),r=n(123),l=n(5),c=n(8);function u({children:e,steps:t,current:n,onChangeStep:o,firstStep:i,lastStep:u}){var d;i=null!=i?i:[],u=null!=u?u:[];const m=null!==(d=t.findIndex(e=>e.key===n))&&void 0!==d?d:0,p=m<=0,h=m>=t.length-1,g=p?null:t[m-1],f=h?null:t[m+1],b=p?i:a.a.createElement(l.a,{type:l.c.LINK,onClick:()=>!p&&o&&o(t[m-1].key),className:s.a.prevLink,disabled:g.disabled},a.a.createElement(c.a,{icon:"arrow-left-alt2"}),a.a.createElement("span",null,g.label)),_=h?u:a.a.createElement(l.a,{type:l.c.LINK,onClick:()=>!h&&o&&o(t[m+1].key),className:s.a.nextLink,disabled:f.disabled},a.a.createElement("span",null,f.label),a.a.createElement(c.a,{icon:"arrow-right-alt2"}));return a.a.createElement(r.b,null,{path:[],left:b,right:_,center:e})}},345:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(0),a=n.n(o),i=n(224),s=n.n(i),r=n(123),l=n(5),c=n(8),u=n(77);function d({pages:e,current:t,onChangePage:n,showNavArrows:o,hideMenuArrow:i,children:u}){var d,p;const{path:h,right:g}=u,f=null!==(d=e.findIndex(e=>e.key===t))&&void 0!==d?d:0,b=null!==(p=e[f].label)&&void 0!==p?p:"",_=f<=0,v=f>=e.length-1,E=_?null:e[f-1],y=v?null:e[f+1];let w=[];return o&&w.push(a.a.createElement(l.a,{key:"page-menu-left",type:l.c.PILL,onClick:()=>!_&&n&&n(e[f-1].key),disabled:_||E.disabled},a.a.createElement(c.a,{icon:"arrow-left-alt2"}))),w.push(a.a.createElement(m,{key:"page-menu",pages:e,current:t,onClickPage:e=>n&&n(e)},a.a.createElement("span",null,b),!i&&a.a.createElement(c.a,{icon:"arrow-down-alt2",className:s.a.arrowDown}))),o&&w.push(a.a.createElement(l.a,{key:"page-menu-left",type:l.c.PILL,onClick:()=>!v&&n&&n(e[f+1].key),disabled:v||y.disabled},a.a.createElement(c.a,{icon:"arrow-right-alt2"}))),a.a.createElement(r.b,{pathStyle:h.length>1?"line":"none"},{path:h,right:g,center:w})}function m({pages:e,current:t,onClickPage:n,children:o}){const[i,r]=a.a.useState(!1),l=()=>r(!0),c=()=>r(!1);return a.a.createElement(u.a,{isOpen:i,onBlur:c,placement:"bottom-start",refClassName:s.a.menuRef},({ref:e})=>a.a.createElement("a",{ref:e,className:s.a.menuLink,onClick:l},o),a.a.createElement(u.b,null,e.map(e=>{return a.a.createElement(u.c,{key:e.key,disabled:e.disabled,active:e.key===t,onClick:(o=e.key,()=>{n&&n(o),c()})},e.label);var o})))}},346:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(0),a=n.n(o),i=n(183),s=n.n(i),r=n(123),l=n(16);function c({children:{path:e,tabs:t,right:n},current:o,onClickTab:i}){return a.a.createElement(r.b,{pathStyle:"chevron"},{path:e,right:n,left:t.map(e=>{return a.a.createElement(u,{tab:e,key:e.key,isCurrent:e.key===o,onClick:(t=e.key,()=>i&&i(t))});var t})})}function u({tab:e,isCurrent:t,onClick:n}){return a.a.createElement("a",{key:e.key,role:"button",tabIndex:0,className:e.disabled?s.a.disabled:t?s.a.current:s.a.tab,onClick:n,onKeyDown:Object(l.f)(n)},a.a.createElement("span",{className:s.a.label},e.label))}},376:function(e,t,n){},39:function(e,t,n){"use strict";function o(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function a(e){const t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}))},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o,a=n(14),i=n(1);!function(e){let t;!function(e){e.PERSONAL="PERSONAL",e.BUSINESS="BUSINESS"}(t=e.Type||(e.Type={}))}(o||(o={}));const s=Object(i.n)([]),r="https://secure.gravatar.com/avatar/4a94d759753ade2961582f7345c1d7b2?s=64&d=mm&r=g",l=e=>s.find(t=>t.id===e),c=e=>"https://instagram.com/"+e;function u(e){if("object"==typeof e&&Array.isArray(e.data))return e.data.sort((e,t)=>e.type===t.type?0:e.type===o.Type.PERSONAL?-1:1),s.splice(0,s.length),e.data.forEach(e=>s.push(Object(i.n)(e))),s;throw"Spotlight encountered a problem trying to load your accounts. Kindly contact customer support for assistance."}t.b={list:s,DEFAULT_PROFILE_PIC:r,getById:l,getByUsername:e=>s.find(t=>t.username===e),hasAccounts:()=>s.length>0,filterExisting:e=>e.filter(e=>void 0!==l(e)),idsToAccounts:e=>e.map(e=>l(e)).filter(e=>void 0!==e),getBusinessAccounts:()=>s.filter(e=>e.type===o.Type.BUSINESS),getProfilePicUrl:e=>e.customProfilePicUrl?e.customProfilePicUrl:e.profilePicUrl?e.profilePicUrl:r,getBioText:e=>e.customBio.length?e.customBio:e.bio,getProfileUrl:e=>c(e.username),getUsernameUrl:c,loadAccounts:function(){return a.a.getAccounts().then(u).catch(e=>{throw a.a.getErrorReason(e)})},loadFromResponse:u}},42:function(e,t,n){"use strict";var o=n(68);t.a=new class{constructor(){this.types=[],this.mediaStore=o.a}addPromotionType(e){this.types.push(e)}getPromotionType(e){return this.types.find(t=>t.value===e)}getMediaPromo(e,t){var n;const o=t.promotions.get(e.id);if(!o)return[{},null];const a=this.getPromotionType(o.type);return a?[null!==(n=o.data)&&void 0!==n?n:{},a]:[{},null]}executeMediaClick(e,t){const[n,o]=this.getMediaPromo(e,t);return!(null===o||!o.isValid(e,n)||"function"!=typeof o.onMediaClick)&&o.onMediaClick(e,n)}getLinkText(e,t){var n,o;const[a,i]=this.getMediaPromo(e,t);return null!==i&&i.isValid(e,a)?{text:i.getPopupLinkText&&null!==(n=i.getPopupLinkText(e,a))&&void 0!==n?n:null,url:i.getMediaUrl&&null!==(o=i.getMediaUrl(e,a))&&void 0!==o?o:null}:{text:null,url:null}}}},47:function(e,t,n){e.exports={root:"MediaThumbnail__root","media-background-fade-in-animation":"MediaThumbnail__media-background-fade-in-animation",mediaBackgroundFadeInAnimation:"MediaThumbnail__media-background-fade-in-animation","media-object-fade-in-animation":"MediaThumbnail__media-object-fade-in-animation",mediaObjectFadeInAnimation:"MediaThumbnail__media-object-fade-in-animation",image:"MediaThumbnail__image","not-available":"MediaThumbnail__not-available",notAvailable:"MediaThumbnail__not-available"}},50:function(e,t,n){e.exports={root:"SettingsField__root layout__flex-column",label:"SettingsField__label layout__flex-column",container:"SettingsField__container layout__flex-row",control:"SettingsField__control layout__flex-column","control-partial-width":"SettingsField__control-partial-width SettingsField__control layout__flex-column",controlPartialWidth:"SettingsField__control-partial-width SettingsField__control layout__flex-column","control-full-width":"SettingsField__control-full-width SettingsField__control layout__flex-column",controlFullWidth:"SettingsField__control-full-width SettingsField__control layout__flex-column",tooltip:"SettingsField__tooltip layout__flex-column"}},570:function(e,t,n){"use strict";n.r(t),n(227);var o=n(31),a=(n(376),n(320)),i=n(1),s=n(0),r=n.n(s),l=n(7);const c=(e,t)=>Object(l.b)(n=>r.a.createElement(e,Object.assign(Object.assign({},t),n))),u=(e,t)=>Object(l.b)(n=>{const o={};return Object.keys(t).forEach(e=>o[e]=t[e](n)),r.a.createElement(e,Object.assign({},o,n))});var d=n(41),m=n(321),p=n(24),h=n(19);function g(){const e=new Date,t=3===e.getMonth()&&1===e.getDate()?"spitloght-800w.png":"spotlight-800w.png";return r.a.createElement("div",{className:"admin-loading"},r.a.createElement("div",{className:"admin-loading__perspective"},r.a.createElement("div",{className:"admin-loading__container"},r.a.createElement("img",{src:h.a.image(t),className:"admin-loading__logo",alt:"Spotlight"}))))}var f=n(6),b=n(12),_=n(336);const v=Object(l.b)((function({store:e,screensStore:t,toaster:n,titleTemplate:o}){e.load();const a=t=>{var n,o;const a=null!==(o=null!==(n=t.detail.message)&&void 0!==n?n:t.detail.response.data.message)&&void 0!==o?o:null;e.toaster.addToast("feed/fetch_fail",()=>r.a.createElement("div",null,r.a.createElement("p",null,"An error occurred while retrieving the media for this feed. Details:"),a&&r.a.createElement("code",null,a),r.a.createElement("p",null,"If this error persists, kindly"," ",r.a.createElement("a",{href:b.a.resources.supportUrl,target:"_blank"},"contact customer support"),".")),0)};Object(s.useEffect)(()=>(document.addEventListener(f.a.Events.FETCH_FAIL,a),()=>document.removeEventListener(f.a.Events.FETCH_FAIL,a)),[]);const i=r.a.createElement(n);return e.isLoaded?r.a.createElement(d.b,{history:p.a.history},t.screens.map((e,t)=>r.a.createElement(m.a,{key:e.id,when:"screen",is:e.id,isRoot:0===t,render:()=>{const t=()=>r.a.createElement(e.component);return t.displayName=e.title,document.title=o.replace("%s",e.title),r.a.createElement(t)}})),i,r.a.createElement(_.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),i)}));var E;!function(e){e.NEW_FEED="new",e.EDIT_FEED="edit",e.FEED_LIST="feeds",e.SETTINGS="settings"}(E||(E={}));class y{constructor(e){this.screens=e,this.screens.sort((e,t)=>{var n,o;const a=null!==(n=e.position)&&void 0!==n?n:0,i=null!==(o=t.position)&&void 0!==o?o:0;return Math.sign(a-i)})}get current(){var e;const t=null!==(e=p.a.get("screen"))&&void 0!==e?e:"";return this.screens.find((e,n)=>t===e.id||!t&&0===n)}}var w=n(255),S=n.n(w),O=n(9),C=n(34);const k=Object(i.n)({initialized:!1,list:[]}),T=({navbar:e,className:t,fillPage:n,children:o})=>{const a=r.a.useRef(null);Object(s.useEffect)(()=>{a.current&&(function(){if(!k.initialized){const e=Array.from(document.querySelectorAll(".sli-notice")),t=Array.from(document.querySelectorAll(".fs-notice.fs-slug-spotlight-social-photo-feeds"));k.list=e.concat(t),k.initialized=!0}}(),k.list.forEach(e=>{e.remove(),a.current.appendChild(e)}))},[]);const i=C.a.getExpiringTokenAccounts(),l=Object(O.a)("admin-screen",{"--fillPage":n})+(t?" "+t:"");return r.a.createElement("div",{className:l},e&&r.a.createElement("div",{className:"admin-screen__navbar"},r.a.createElement(e)),r.a.createElement("div",{className:"admin-screen__content"},r.a.createElement("div",{className:"admin-screen__notices",ref:a},i.map(e=>r.a.createElement("div",{key:e.id,className:"notice notice-warning"},r.a.createElement("p",null,"The access token for the ",r.a.createElement("b",null,"@",e.username)," account is about to expire."," ",r.a.createElement("a",{className:"admin-screen__reconnect",onClick:t=>function(e,t){C.a.openAuthWindow(t.type,0,()=>{b.a.restApi.deleteAccountMedia(t.id)}),e.preventDefault()}(t,e)},"Re-connect the account")," ","to keep using it in Spotlight.")))),o))};var L=n(28),N=n(49),P=n(58),x=n.n(P),A=n(8),M=n(5),I=n(4),B=n(205),D=n(119),F=n(27);const j=({toaster:e})=>{const t={cols:{name:x.a.nameCol,sources:x.a.sourcesCol,usages:x.a.usagesCol,actions:x.a.actionsCol},cells:{name:x.a.nameCell,sources:x.a.sourcesCell,usages:x.a.usagesCell,actions:x.a.actionsCell}};return r.a.createElement("div",{className:"feeds-list"},r.a.createElement(D.a,{styleMap:t,cols:[{id:"name",label:"Name",render:e=>{const t=p.a.at({screen:E.EDIT_FEED,id:e.id.toString()});return r.a.createElement("div",null,r.a.createElement(N.a,{to:t,className:x.a.name},e.name?e.name:"(no name)"),r.a.createElement("div",{className:x.a.metaList},r.a.createElement("span",{className:x.a.id},"ID: ",e.id),r.a.createElement("span",{className:x.a.layout},F.a.getName(e.options.layout))))}},{id:"sources",label:"Shows posts from",render:e=>r.a.createElement(R,{feed:e})},{id:"usages",label:"Instances",render:e=>r.a.createElement(z,{feed:e})},{id:"actions",label:"Actions",render:t=>r.a.createElement("div",{className:x.a.actionsList},r.a.createElement(B.a,{feed:t,toaster:e},r.a.createElement(M.a,{type:M.c.SECONDARY,tooltip:"Copy shortcode"},r.a.createElement(A.a,{icon:"editor-code"}))),r.a.createElement(M.a,{type:M.c.DANGER,tooltip:"Delete feed",onClick:()=>(e=>{confirm("Are you sure you want to delete this feed? This cannot be undone.")&&L.a.deleteFeed(e)})(t)},r.a.createElement(A.a,{icon:"trash"})))}],rows:L.a.list}))},R=({feed:e})=>{let t=[];const n=f.a.Options.getSources(e.options);return n.accounts.forEach(e=>{const n=W(e);n&&t.push(n)}),n.tagged.forEach(e=>{const n=W(e,!0);n&&t.push(n)}),n.hashtags.forEach(e=>t.push(r.a.createElement("div",null,"#",e.tag))),0===t.length&&t.push(r.a.createElement("div",{className:x.a.noSourcesMsg},r.a.createElement(A.a,{icon:"warning"}),r.a.createElement("span",null,"Feed has no sources"))),r.a.createElement("div",{className:x.a.sourcesList},t.map((e,t)=>e&&r.a.createElement(H,{key:t},e)))},z=({feed:e})=>r.a.createElement("div",{className:x.a.usagesList},e.usages.map((e,t)=>r.a.createElement("div",{key:t,className:x.a.usage},r.a.createElement("a",{className:x.a.usageLink,href:e.link,target:"_blank"},e.name),r.a.createElement("span",{className:x.a.usageType},"(",e.type,")"))));function W(e,t){return e?r.a.createElement(U,{account:e,isTagged:t}):null}const U=({account:e,isTagged:t})=>{const n=t?"tag":e.type===I.a.Type.BUSINESS?"businessman":"admin-users";return r.a.createElement("div",null,r.a.createElement(A.a,{icon:n}),e.username)},H=({children:e})=>r.a.createElement("div",{className:x.a.source},e);var G=n(71),K=n(219),q=n.n(K);const Y=p.a.at({screen:E.NEW_FEED}),V=()=>{const[e,t]=r.a.useState(!1);return r.a.createElement(G.a,{className:q.a.root,isTransitioning:e},r.a.createElement("div",null,r.a.createElement("h1",null,"Start engaging with your audience"),r.a.createElement(G.a.Thin,null,r.a.createElement("p",null,"Connect with more people by embedding one or more Instagram feeds on this website."),r.a.createElement("p",null,"It only takes 3 steps! Let’s get going!"),r.a.createElement(G.a.StepList,null,r.a.createElement(G.a.Step,{num:1,isDone:I.b.list.length>0},r.a.createElement("span",null,"Connect your Instagram Account")),r.a.createElement(G.a.Step,{num:2},r.a.createElement("span",null,"Design your feed")),r.a.createElement(G.a.Step,{num:3},r.a.createElement("span",null,"Embed it on your site"))))),r.a.createElement("div",{className:q.a.callToAction},r.a.createElement(G.a.HeroButton,{onClick:()=>{t(!0),setTimeout(()=>p.a.history.push(Y,{}),G.a.TRANSITION_DURATION)}},I.b.list.length>0?"Design your feed":"Connect your Instagram Account"),r.a.createElement(G.a.HelpMsg,{className:q.a.contactUs},"If you need help at any time,"," ",r.a.createElement("a",{href:b.a.resources.supportUrl,target:"_blank",style:{whiteSpace:"nowrap"}},"contact me here"),".",r.a.createElement("br",null),"- Mark Zahra, Spotlight")))};var $=Object(l.b)((function({navbar:e,toaster:t}){return r.a.createElement(T,{navbar:e},r.a.createElement("div",{className:S.a.root},L.a.hasFeeds()?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:S.a.createNewBtn},r.a.createElement(N.a,{to:p.a.at({screen:E.NEW_FEED}),className:"button button-primary button-large"},"Create a new feed")),r.a.createElement(j,{toaster:t})):r.a.createElement(V,null)))})),X=n(338),J=n(352),Q=n(339),Z=n.n(Q),ee=n(117),te=n(23),ne=n(69),oe=n(16);function ae({when:e,message:t}){return Object(oe.k)(t,e),r.a.createElement(d.a,{when:e,message:t})}const ie="You have unsaved changes. If you leave now, your changes will be lost.";var se=Object(l.b)((function({navbar:e}){const t=p.a.get("tab"),n=t?b.a.settings.pages.find(e=>t===e.id):b.a.settings.pages[0];return Object(s.useEffect)(()=>()=>{te.b.isDirty&&p.a.get("screen")!==E.SETTINGS&&te.b.restore()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{navbar:e,className:Z.a.root},n&&r.a.createElement(ee.a,{page:n})),r.a.createElement(d.a,{when:te.b.isDirty,message:re}),r.a.createElement(ae,{when:te.b.isDirty,message:ie}))}));function re(e){return Object(ne.parse)(e.search).screen===E.SETTINGS||ie}var le=n(154),ce=n(341),ue=n.n(ce),de=function({url:e,children:t}){return r.a.createElement("a",{className:ue.a.root,href:null!=e?e:b.a.resources.upgradeLocalUrl},null!=t?t:"Upgrade to PRO")},me=Object(l.b)((function({store:e,right:t,showUpgrade:n,chevron:o,children:a}){n=null!=n?n:null==t;const i=r.a.createElement(le.a.Item,null,e.current.title);return r.a.createElement(le.a,null,r.a.createElement(r.a.Fragment,null,i,o&&r.a.createElement(le.a.Chevron,null),a),t?r.a.createElement(t):n&&r.a.createElement(de,{url:b.a.resources.trialLocalUrl},"Start 14-day PRO trial"))}));class pe{constructor(e,t){this.fns=e,this.delay=null!=t?t:1}load(e=null,t){this.numLoaded=0,this.isLoading=!0;const n=()=>{this.numLoaded++,this.numLoaded>=this.fns.length&&setTimeout(()=>{this.isLoading=!1,t&&t()},this.delay)};this.fns.forEach(t=>t(e,n))}}var he=n(141),ge=n(125),fe=n(14),be=n(206),_e=function(e,t,n,o){var a,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ve=L.a.SavedFeed;class Ee{constructor(e,t,n){this.isLoaded=!1,this.isLoading=!1,this.editorTab="connect",this.isGoingFromNewToEdit=!1,this.isPromptingFeedName=!1,this.feed=new ve,this.loader=e,this.toaster=t,this.editorConfig=n,this.isDoingOnboarding=b.a.config.doOnboarding}edit(e){this.isGoingFromNewToEdit||(this.editorTab="connect"),this.isGoingFromNewToEdit=!1,this.feed=null,this.feed=new ve(e),this.isEditorDirty=!1}saveFeed(e){const t=null===e.id;return this.isDoingOnboarding=!1,new Promise((n,o)=>{L.a.saveFeed(e).then(e=>{this.toaster.addToast("feed/save/success",c(he.a,{message:"Feed saved."})),t&&(this.isGoingFromNewToEdit=!0,p.a.history.push(p.a.at({screen:E.EDIT_FEED,id:e.id.toString()}),{})),n(e)}).catch(e=>{const t=fe.a.getErrorReason(e);this.toaster.addToast("feed/save/error",c(be.a,{message:"Failed to save the feed: "+t})),o(t)})})}saveEditor(e){if(!this.isEditorDirty)return;const t=null===this.feed.id;if(0!==this.feed.name.length||e)return this.isSavingFeed=!0,this.isDoingOnboarding=!1,L.a.saveFeed(this.feed).then(e=>{this.feed=new ve(e),this.isSavingFeed=!1,this.isEditorDirty=!1,this.toaster.addToast("feed/saved",c(he.a,{message:"Feed saved."})),t&&(this.isGoingFromNewToEdit=!0,p.a.history.push(p.a.at({screen:E.EDIT_FEED,id:this.feed.id.toString()}),{}))});this.isPromptingFeedName=!0}cancelEditor(){this.isGoingFromNewToEdit||(this.feed=new ve,this.isEditorDirty=!1,this.isGoingFromNewToEdit=!1)}closeEditor(){this.cancelEditor(),setTimeout(()=>{p.a.history.push(p.a.at({screen:E.FEED_LIST}),{})},10)}onEditorChange(e){e&&ve.setFromObject(this.feed,e),this.isEditorDirty=!0}load(){this.isLoaded||this.isLoading||(this.isLoading=!0,this.loader.load(null,()=>{this.isLoaded=!0,this.isLoading=!1,ge.a.fetch()}))}}_e([i.n],Ee.prototype,"isLoaded",void 0),_e([i.n],Ee.prototype,"isLoading",void 0),_e([i.n],Ee.prototype,"feed",void 0),_e([i.n],Ee.prototype,"isSavingFeed",void 0),_e([i.n],Ee.prototype,"isEditorDirty",void 0),_e([i.n],Ee.prototype,"editorConfig",void 0),_e([i.n],Ee.prototype,"editorTab",void 0),_e([i.n],Ee.prototype,"isDoingOnboarding",void 0),_e([i.n],Ee.prototype,"isGoingFromNewToEdit",void 0),_e([i.n],Ee.prototype,"isPromptingFeedName",void 0),_e([i.f],Ee.prototype,"edit",null),_e([i.f],Ee.prototype,"saveEditor",null),_e([i.f],Ee.prototype,"cancelEditor",null),_e([i.f],Ee.prototype,"closeEditor",null),_e([i.f],Ee.prototype,"onEditorChange",null),_e([i.f],Ee.prototype,"load",null);var ye=n(221),we=n.n(ye),Se=n(151),Oe=Object(l.b)((function({store:e}){const t=p.a.get("tab");return r.a.createElement(me,{store:e,chevron:!0,showUpgrade:!1,right:Ce},b.a.settings.pages.map((e,n)=>r.a.createElement(le.a.Link,{key:e.id,linkTo:p.a.with({tab:e.id}),isCurrent:t===e.id||!t&&0===n},e.title)))}));const Ce=Object(l.b)((function({}){const e=!te.b.isDirty;return r.a.createElement("div",{className:we.a.buttons},r.a.createElement(M.a,{className:we.a.cancelBtn,type:M.c.DANGER_PILL,size:M.b.LARGE,onClick:()=>te.b.restore(),disabled:e},"Cancel"),r.a.createElement(Se.a,{className:we.a.saveBtn,onClick:()=>te.b.save(),isSaving:te.b.isSaving,tooltip:"Save the settings (Ctrl+S)",disabled:e}))}));var ke=n(181),Te=n.n(ke),Le=n(3),Ne=n(40);function Pe({}){const e=r.a.useRef(),t=r.a.useRef([]),[n,o]=r.a.useState(0),[a,i]=r.a.useState(!1),[,l]=r.a.useState(),c=()=>{const n=function(e){const t=.4*e.width,n=t/724,o=707*n,a=22*n,i=35*n;return{bounds:e,origin:{x:(e.width-t)/2+o-i/2,y:.5*e.height+a-i/2},scale:n,particleSize:i}}(e.current.getBoundingClientRect());t.current=t.current.map(e=>{const t=e.didSike?1:Math.max(1,1.3-1.3*Math.min(1,e.life/100));return Object.assign(Object.assign({},e),{pos:{x:e.pos.x+e.vel.x*t,y:e.pos.y+e.vel.y*t},life:e.life+1})}).filter(e=>e.life<500&&e.pos.x>=0&&e.pos.y>=0&&e.pos.x+e.size<=n.bounds.width&&e.pos.y+e.size<=n.bounds.height),t.current.length<30&&10*Math.random()>7&&t.current.push((e=>{const t=Math.max(1,4*Math.random()),n=2*Math.random()*Math.PI,o={x:Math.sin(n)*t,y:Math.cos(n)*t};return{pos:Object.assign({},e.origin),vel:o,size:e.particleSize,life:1}})(n)),l(Le.r)};Object(s.useEffect)(()=>{const e=setInterval(c,25);return()=>clearInterval(e)},[]);const u=function(e){let t=null;return xe.forEach(([n,o])=>{e>=n&&(t=o)}),t}(n);return r.a.createElement("div",{className:Te.a.root},r.a.createElement("h1",{style:{textAlign:"center"}},"Let's play!"),r.a.createElement("p",null,"Click on as many Spotlight dots as you can. We challenge you to ",r.a.createElement("strong",null,"hit ",100),"!"),r.a.createElement("br",null),r.a.createElement("div",{ref:e,style:Ae.container},n>0&&r.a.createElement("div",{className:Te.a.score},r.a.createElement("strong",null,"Score"),": ",r.a.createElement("span",null,n)),u&&r.a.createElement("div",{className:Te.a.message},r.a.createElement("span",{className:Te.a.messageBubble},u)),t.current.map((e,a)=>r.a.createElement("div",{key:a,onMouseDown:()=>(e=>{const a=t.current[e].didSike?5:1;t.current.splice(e,1),o(n+a)})(a),onMouseEnter:()=>(e=>{const n=t.current[e];if(n.didSike)return;const o=1e3*Math.random();o>100&&o<150&&(n.vel={x:5*Math.sign(-n.vel.x),y:5*Math.sign(-n.vel.y)},n.life=100,n.didSike=!0)})(a),style:Object.assign(Object.assign({},Ae.particle),{top:e.pos.y,left:e.pos.x,width:e.size,height:e.size,backgroundColor:e.didSike?"#ffaa00":"#"+(14492491+65536*e.life+256*e.life+e.life).toString(16)})},e.didSike&&r.a.createElement("span",{style:Ae.sike},"x",5)))),r.a.createElement(Ne.a,{title:"Get 20% off Spotlight PRO",isOpen:n>=100&&!a,onClose:()=>i(!0),allowShadeClose:!1},r.a.createElement(Ne.a.Content,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",{style:{display:"inline-block",width:"70%",marginTop:10}},r.a.createElement("strong",{style:{opacity:.7}},"You were just clicking the dot in the logo, weren't you?",r.a.createElement("br",null),"It doesn't matter. You made it a 100!")),r.a.createElement("h1",null,"Get 20% off Spotlight PRO"),r.a.createElement("p",{style:{display:"inline-block",width:"60%"}},"Open up to new opportunities with hashtag feeds, filtering options, visual moderation,"," ","tagged feeds, new layouts, promotions and much more."),r.a.createElement("div",{style:{margin:"10px 0"}},r.a.createElement("a",{href:b.a.resources.upgradeUrl,target:"_blank",style:{width:"100%"}},r.a.createElement(M.a,{type:M.c.PRIMARY,size:M.b.HERO,style:{width:"80%"}},"Get 20% off Spotlight PRO")))))))}const xe=[[10,r.a.createElement("span",null,"You're getting the hang of this!")],[50,r.a.createElement("span",null,"Not bad. You're half way to a 100!")],[120,r.a.createElement("span",null,"Just post a 5-star review already. You're clearly in love with us!")],[150,r.a.createElement("span",null,"Hey, we'd be curious if there were more messages too. But sadly, this is the last one. Good-bye!")],[500,r.a.createElement("span",null,"Error: User has become obsessed with clicking games.")],[1e3,r.a.createElement("span",null,"While the term Easter egg has been used to mean a hidden object for some time, in reference to an Easter egg hunt, it has come to be more commonly used to mean a message, image, or feature hidden in a video game, film, or other, usually electronic, medium. The term used in this manner was coined around 1979 by Steve Wright, the then Director of Software Development in the Atari Consumer Division, to describe a hidden message in the Atari video game Adventure. [Wikipedia]")]],Ae={container:{flex:1,position:"relative",backgroundColor:"#fff",backgroundImage:`url('${h.a.image("spotlight-800w.png")}')`,backgroundPosition:"center 50%",backgroundSize:"40%",backgroundRepeat:"no-repeat",borderRadius:8,marginTop:15,userSelect:"none"},particle:{position:"absolute",backgroundColor:"#dd234b",borderRadius:999,cursor:"pointer",color:"#000",userSelect:"none"},sike:{position:"relative",left:"calc(100% + 5px)",fontSize:"16px",userSelect:"none"}};var Me=n(149),Ie=n(182),Be=n.n(Ie),De=Object(l.b)((function({}){return r.a.createElement("div",{className:Be.a.root})}));Object(l.b)((function({className:e,label:t,children:n}){const o="settings-field-"+Object(Le.r)();return r.a.createElement("div",{className:Object(O.b)(Be.a.fieldContainer,e)},r.a.createElement("div",{className:Be.a.fieldLabel},r.a.createElement("label",{htmlFor:o},t)),r.a.createElement("div",{className:Be.a.fieldControl},n(o)))}));var Fe=n(351),je=n(2),Re=n(258),ze=n.n(Re),We=n(86);function Ue({isOpen:e,onAccept:t,onCancel:n}){const[o,a]=r.a.useState("");function i(){t&&t(o)}return r.a.createElement(We.a,{title:"Feed name",isOpen:e,onCancel:function(){n&&n()},onAccept:i,buttons:["Save","Cancel"]},r.a.createElement("p",{className:ze.a.message},"Give this feed a memorable name:"),r.a.createElement("input",{type:"text",className:ze.a.input,value:o,onChange:e=>{a(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(i(),e.preventDefault(),e.stopPropagation())},autoFocus:!0}))}var He=L.a.SavedFeed;function Ge({feed:e,store:t,onSave:n,onCancel:o}){const[a,i]=Object(oe.h)(null),[s,l]=Object(oe.h)(e.name),[c,u]=r.a.useState(!0),[d,m]=r.a.useState(t.editorTab),[p,h]=r.a.useState(je.a.Mode.DESKTOP),[g,b]=Object(oe.h)(!1),[_,v]=Object(oe.h)(!1),[E,y]=r.a.useState(!1);null===a.current&&(a.current=new f.a.Options(e.options));const w=r.a.useCallback(e=>{m(e),t.editorTab=e},[t]),S=r.a.useCallback(e=>{const t=new f.a.Options(a.current);Object(Le.b)(t,e),i(t),b(!0)},[]),O=r.a.useCallback(e=>{l(e),b(!0)},[]),C=r.a.useCallback(o=>{if(g.current)if(void 0!==o||_.current||0!==s.current.length){o=null!=o?o:s.current,l(o),v(!1),y(!0);const i=null===e.id,r=new He({id:e.id,name:o,options:a.current});t.saveFeed(r).then(()=>{n&&n(r),i||(y(!1),b(!1))})}else v(!0)},[e,t]),k=r.a.useCallback(()=>{g.current&&!confirm("You have unsaved changes. If you leave now, your changes will be lost.")||(b(!1),o&&o(),t.closeEditor())},[t]);return Object(oe.d)("keydown",e=>{e.key&&"s"===e.key.toLowerCase()&&e.ctrlKey&&(C(),e.preventDefault(),e.stopPropagation())},[],[g]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,Object.assign({value:a.current,name:s.current,tabId:d,previewDevice:p,showFakeOptions:c,onChange:S,onRename:O,onChangeTab:w,onToggleFakeOptions:u,onChangeDevice:h,onSave:C,onCancel:k,isSaving:E,showDoneBtn:!0,showCancelBtn:!0,showNameField:!0,isDoneBtnEnabled:g.current,isCancelBtnEnabled:g.current,doneBtnText:"Save",cancelBtnText:"Cancel"},t.editorConfig)),r.a.createElement(Ue,{isOpen:_.current,onAccept:e=>{C(e)},onCancel:()=>{v(!1)}}),r.a.createElement(ae,{message:"You have unsaved changes. If you leave now, your changes will be lost.",when:g.current&&!E}))}var Ke=L.a.SavedFeed;function qe({store:e}){return e.edit(new Ke),r.a.createElement(Ge,{feed:e.feed,store:e})}var Ye=n(25);function Ve({store:e}){const t=Xe(),n=L.a.getById(t);return t&&n?(e.feed.id!==t&&e.edit(n),Object(s.useEffect)(()=>()=>e.cancelEditor(),[]),r.a.createElement(Ge,{store:e,feed:e.feed})):r.a.createElement($e,null)}const $e=()=>r.a.createElement("div",null,r.a.createElement(Ye.a,{type:Ye.b.ERROR,showIcon:!0},"Feed does not exist.",r.a.createElement(N.a,{to:p.a.with({screen:"feeds"})},"Go back"))),Xe=()=>{let e=p.a.get("id");return e?(e=Array.isArray(e)?e[0]:e,parseInt(e)):null};var Je=n(347);const Qe={factories:Object(o.c)({"admin/root/component":e=>c(v,{store:e.get("admin/store"),screensStore:e.get("admin/screens/store"),toaster:e.get("admin/toaster/component"),titleTemplate:e.get("admin/title_template")}),"admin/title_template":()=>document.title.replace("Spotlight","%s ‹ Spotlight"),"admin/store":e=>new Ee(e.get("admin/loading/loader"),e.get("admin/toaster/store"),e.get("admin/editor/config")),"admin/loading/loader":e=>new pe(e.get("admin/loading/functions"),750),"admin/loading/functions":e=>{const t=e.get("admin/toaster/store"),n=e=>n=>{t.addToast("load_error",c(be.a,{message:n}),0),e()};return[(e,t)=>L.a.loadFeeds().then(t).catch(n(t)),(e,t)=>I.b.loadAccounts().then(t).catch(n(t)),(e,t)=>te.b.load().then(t).catch(n(t))]},"admin/navbar/component":e=>u(me,{store:()=>e.get("admin/screens/store"),showUpgrade:()=>!b.a.config.isPro}),"admin/settings/navbar/component":e=>u(Oe,{store:()=>e.get("admin/screens/store")}),"admin/screens/store":e=>new y(e.get("admin/screens")),"admin/screens":e=>[e.get("admin/feeds/screen"),e.get("admin/editor/add_new/screen"),e.get("admin/editor/edit/screen"),e.get("admin/settings/screen")],"admin/feeds/screen":e=>({id:"feeds",title:"Feeds",position:0,component:c($,{navbar:e.get("admin/navbar/component"),toaster:e.get("admin/toaster/store")})}),"admin/editor/add_new/screen":e=>({id:"new",title:"Add New",position:10,component:c(qe,{store:e.get("admin/store")})}),"admin/editor/edit/screen":e=>({id:"edit",title:"Edit",isHidden:()=>!0,component:c(Ve,{store:e.get("admin/store")})}),"admin/editor/config":()=>Object.assign({},b.a.editor.config),"admin/settings/screen":e=>({id:"settings",title:"Settings",position:50,component:e.get("admin/settings/component")}),"admin/settings/component":e=>c(se,{navbar:e.get("admin/settings/navbar/component")}),"admin/settings/tabs/accounts":()=>({id:"accounts",label:"Manage Accounts",component:Me.a}),"admin/settings/tabs/crons":()=>({id:"crons",label:"Crons",component:u(ee.a,{page:()=>b.a.settings.pages.find(e=>"crons"===e.id)})}),"admin/settings/tabs/advanced":e=>({id:"advanced",label:"Advanced",component:e.get("admin/settings/show_game")?e.get("admin/settings/game/component"):e.get("admin/settings/advanced/component")}),"admin/settings/show_game":()=>!0,"admin/settings/advanced/component":e=>De,"admin/settings/game/component":()=>Pe,"admin/toaster/store":e=>new X.a(e.get("admin/toaster/ttl")),"admin/toaster/ttl":()=>5e3,"admin/toaster/component":e=>c(J.a,{store:e.get("admin/toaster/store")})}),extensions:Object(o.c)({"root/children":(e,t)=>[...t,e.get("admin/root/component")],"settings/tabs":(e,t)=>[e.get("admin/settings/tabs/accounts"),e.get("admin/settings/tabs/advanced"),...t],"admin/editor/config":(e,t)=>(t.tabs.push({id:"embed",label:"Embed",sidebar:u(Je.a,{store:()=>e.get("admin/store")})}),t)}),run:e=>{const t=e.get("admin/toaster/store");document.addEventListener(te.a,()=>{t.addToast("sli/settings/saved",c(he.a,{message:"Settings saved."}))});{const t=e.get("admin/screens/store"),n=document.getElementById("toplevel_page_spotlight-instagram").querySelector("ul.wp-submenu").querySelectorAll("li:not(.wp-submenu-head)"),o=Array.from(n);t.screens.forEach((e,t)=>{const n=0===t,a=e.state||{},s=p.a.fullUrl(Object.assign({screen:e.id},a)),r=p.a.at(Object.assign({screen:e.id},a)),l=o.find(e=>e.querySelector("a").href===s);l&&(l.addEventListener("click",e=>{p.a.history.push(r,{}),e.preventDefault(),e.stopPropagation()}),Object(i.g)(()=>{var t;const o=null!==(t=p.a.get("screen"))&&void 0!==t?t:"",a=e.id===o||!o&&n;l.classList.toggle("current",a)}))})}}},Ze=document.getElementById(b.a.config.rootId);if(Ze){const e=[a.a,Qe].filter(e=>null!==e);Ze.classList.add("wp-core-ui-override"),new o.a("admin",Ze,e).run()}},58:function(e,t,n){e.exports={"name-col":"FeedsList__name-col",nameCol:"FeedsList__name-col","actions-col":"FeedsList__actions-col",actionsCol:"FeedsList__actions-col","actions-cell":"FeedsList__actions-cell",actionsCell:"FeedsList__actions-cell",name:"FeedsList__name layout__text-overflow-ellipsis","meta-list":"FeedsList__meta-list",metaList:"FeedsList__meta-list","meta-info":"FeedsList__meta-info",metaInfo:"FeedsList__meta-info",id:"FeedsList__id FeedsList__meta-info",layout:"FeedsList__layout FeedsList__meta-info","sources-list":"FeedsList__sources-list layout__flex-row",sourcesList:"FeedsList__sources-list layout__flex-row",source:"FeedsList__source layout__text-overflow-ellipsis","no-sources-msg":"FeedsList__no-sources-msg",noSourcesMsg:"FeedsList__no-sources-msg","usages-list":"FeedsList__usages-list layout__flex-column",usagesList:"FeedsList__usages-list layout__flex-column",usage:"FeedsList__usage layout__flex-row layout__text-overflow-ellipsis","usage-link":"FeedsList__usage-link layout__text-overflow-ellipsis",usageLink:"FeedsList__usage-link layout__text-overflow-ellipsis","usage-type":"FeedsList__usage-type",usageType:"FeedsList__usage-type","actions-list":"FeedsList__actions-list",actionsList:"FeedsList__actions-list","usages-cell":"FeedsList__usages-cell",usagesCell:"FeedsList__usages-cell","usages-col":"FeedsList__usages-col",usagesCol:"FeedsList__usages-col","sources-cell":"FeedsList__sources-cell",sourcesCell:"FeedsList__sources-cell","sources-col":"FeedsList__sources-col",sourcesCol:"FeedsList__sources-col"}},59:function(e,t,n){"use strict";function o(e,t){let n;return()=>{clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}}function a(){}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}))},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n(37),a=n.n(o),i=n(1),s=n(2),r=n(27),l=n(31),c=n(4),u=n(3),d=n(13),m=n(14),p=n(59),h=function(e,t,n,o){var a,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};class g{constructor(e=new g.Options,t=s.a.Mode.DESKTOP){this.media=[],this.canLoadMore=!1,this.stories=[],this.numLoadedMore=0,this.totalMedia=0,this.mode=s.a.Mode.DESKTOP,this.isLoaded=!1,this.isLoading=!1,this.isLoadingMore=!1,this.numMediaToShow=0,this.numMediaPerPage=0,this.cancelFetch=()=>{},this.options=new g.Options(e),this.localMedia=[],this.mode=t,this.mediaCounter=this._numMediaPerPage,this.reload=Object(p.a)(()=>this.load(),300),Object(i.o)(()=>this.mode,()=>{0===this.numLoadedMore&&(this.mediaCounter=this._numMediaPerPage,this.localMedia.length<this.numMediaToShow&&this.loadMedia(this.localMedia.length,this.numMediaToShow-this.localMedia.length))}),Object(i.o)(()=>this.getReloadOptions(),()=>this.reload()),Object(i.o)(()=>({num:this._numMediaPerPage,mode:this.mode}),({num:e})=>{this.localMedia.length<e&&e<=this.totalMedia?this.reload():this.mediaCounter=Math.max(1,e)}),Object(i.o)(()=>this._media,e=>this.media=e),Object(i.o)(()=>this._numMediaToShow,e=>this.numMediaToShow=e),Object(i.o)(()=>this._numMediaPerPage,e=>this.numMediaPerPage=e),Object(i.o)(()=>this._canLoadMore,e=>this.canLoadMore=e)}get _media(){return this.localMedia.slice(0,this.numMediaToShow)}get _numMediaToShow(){return Math.min(this.mediaCounter,this.totalMedia)}get _numMediaPerPage(){return Math.max(1,g.ComputedOptions.normalizeMultiInt(this.options.numPosts,this.mode,1))}get _canLoadMore(){return this.localMedia.length>this.mediaCounter||this.localMedia.length<this.totalMedia}loadMore(){const e=this.numMediaToShow+this._numMediaPerPage-this.localMedia.length;return this.isLoadingMore=!0,e>0?this.loadMedia(this.localMedia.length,this._numMediaPerPage).then(()=>{this.mediaCounter+=this._numMediaPerPage,this.numLoadedMore++,this.isLoadingMore=!1}):new Promise(e=>{this.numLoadedMore++,this.mediaCounter+=this._numMediaPerPage,this.isLoadingMore=!1,e()})}load(){return this.numLoadedMore=0,this.loadMedia(0,this._numMediaPerPage,!0).then(()=>(this.isLoaded=!0,this.mediaCounter=this._numMediaPerPage))}loadMedia(e,t,n){return this.cancelFetch(),g.Options.hasSources(this.options,!0)?(this.isLoading=!0,new Promise((o,i)=>{m.a.getFeedMedia(this.options,e,t,e=>this.cancelFetch=e).then(e=>{var t;if("object"!=typeof e||"object"!=typeof e.data||!Array.isArray(e.data.media))throw{message:"The media response is malformed or corrupt",response:e};n&&(this.localMedia=[]),this.localMedia.push(...e.data.media),this.stories=null!==(t=e.data.stories)&&void 0!==t?t:[],this.totalMedia=e.data.total,o&&o()}).catch(e=>{var t;if(a.a.isCancel(e))return null;const n=new g.Events.FetchFailEvent(g.Events.FETCH_FAIL,{detail:{feed:this,message:null!==(t=e.response?e.response.data.message:void 0)&&void 0!==t?t:e.message,response:e.response}});return document.dispatchEvent(n),i&&i(e),e}).finally(()=>this.isLoading=!1)})):new Promise(e=>{this.localMedia=[],this.totalMedia=0,e&&e()})}getReloadOptions(){return JSON.stringify({accounts:this.options.accounts,hashtags:this.options.hashtags,tagged:this.options.tagged,postOrder:this.options.postOrder,mediaType:this.options.mediaType,moderation:this.options.moderation,moderationMode:this.options.moderationMode,hashtagBlacklist:this.options.hashtagBlacklist,hashtagWhitelist:this.options.hashtagWhitelist,captionBlacklist:this.options.captionBlacklist,captionWhitelist:this.options.captionWhitelist,hashtagBlacklistSettings:this.options.hashtagBlacklistSettings,hashtagWhitelistSettings:this.options.hashtagWhitelistSettings,captionBlacklistSettings:this.options.captionBlacklistSettings,captionWhitelistSettings:this.options.captionWhitelistSettings})}}h([i.n],g.prototype,"media",void 0),h([i.n],g.prototype,"canLoadMore",void 0),h([i.n],g.prototype,"stories",void 0),h([i.n],g.prototype,"numLoadedMore",void 0),h([i.n],g.prototype,"options",void 0),h([i.n],g.prototype,"totalMedia",void 0),h([i.n],g.prototype,"mode",void 0),h([i.n],g.prototype,"isLoaded",void 0),h([i.n],g.prototype,"isLoading",void 0),h([i.n],g.prototype,"isLoadingMore",void 0),h([i.f],g.prototype,"reload",void 0),h([i.n],g.prototype,"localMedia",void 0),h([i.n],g.prototype,"numMediaToShow",void 0),h([i.n],g.prototype,"numMediaPerPage",void 0),h([i.n],g.prototype,"mediaCounter",void 0),h([i.h],g.prototype,"_media",null),h([i.h],g.prototype,"_numMediaToShow",null),h([i.h],g.prototype,"_numMediaPerPage",null),h([i.h],g.prototype,"_canLoadMore",null),h([i.f],g.prototype,"loadMore",null),h([i.f],g.prototype,"load",null),h([i.f],g.prototype,"loadMedia",null),function(e){let t,n,o,a,m,p,g,f,b;!function(e){e.FETCH_FAIL="sli/feed/fetch_fail";class t extends CustomEvent{constructor(e,t){super(e,t)}}e.FetchFailEvent=t}(t=e.Events||(e.Events={}));class _{constructor(e={}){_.setFromObject(this,e)}static setFromObject(t,n={}){var o,a,i,l,u,d,m,p,h,g,f,b;return t.accounts=n.accounts?n.accounts.slice():e.DefaultOptions.accounts,t.hashtags=n.hashtags?n.hashtags.slice():e.DefaultOptions.hashtags,t.tagged=n.tagged?n.tagged.slice():e.DefaultOptions.tagged,t.layout=r.a.getById(n.layout).id,t.numColumns=s.a.normalize(n.numColumns,e.DefaultOptions.numColumns),t.highlightFreq=s.a.normalize(n.highlightFreq,e.DefaultOptions.highlightFreq),t.mediaType=n.mediaType||e.DefaultOptions.mediaType,t.postOrder=n.postOrder||e.DefaultOptions.postOrder,t.numPosts=s.a.normalize(n.numPosts,e.DefaultOptions.numPosts),t.linkBehavior=s.a.normalize(n.linkBehavior,e.DefaultOptions.linkBehavior),t.feedWidth=s.a.normalize(n.feedWidth,e.DefaultOptions.feedWidth),t.feedHeight=s.a.normalize(n.feedHeight,e.DefaultOptions.feedHeight),t.feedPadding=s.a.normalize(n.feedPadding,e.DefaultOptions.feedPadding),t.imgPadding=s.a.normalize(n.imgPadding,e.DefaultOptions.imgPadding),t.textSize=s.a.normalize(n.textSize,e.DefaultOptions.textSize),t.bgColor=n.bgColor||e.DefaultOptions.bgColor,t.hoverInfo=n.hoverInfo?n.hoverInfo.slice():e.DefaultOptions.hoverInfo,t.textColorHover=n.textColorHover||e.DefaultOptions.textColorHover,t.bgColorHover=n.bgColorHover||e.DefaultOptions.bgColorHover,t.showHeader=s.a.normalize(n.showHeader,e.DefaultOptions.showHeader),t.headerInfo=s.a.normalize(n.headerInfo,e.DefaultOptions.headerInfo),t.headerAccount=null!==(o=n.headerAccount)&&void 0!==o?o:e.DefaultOptions.headerAccount,t.headerAccount=null===t.headerAccount||void 0===c.b.getById(t.headerAccount)?c.b.list.length>0?c.b.list[0].id:null:t.headerAccount,t.headerStyle=s.a.normalize(n.headerStyle,e.DefaultOptions.headerStyle),t.headerTextSize=s.a.normalize(n.headerTextSize,e.DefaultOptions.headerTextSize),t.headerPhotoSize=s.a.normalize(n.headerPhotoSize,e.DefaultOptions.headerPhotoSize),t.headerTextColor=n.headerTextColor||e.DefaultOptions.headerTextColor,t.headerBgColor=n.headerBgColor||e.DefaultOptions.bgColor,t.headerPadding=s.a.normalize(n.headerPadding,e.DefaultOptions.headerPadding),t.customProfilePic=null!==(a=n.customProfilePic)&&void 0!==a?a:e.DefaultOptions.customProfilePic,t.customBioText=n.customBioText||e.DefaultOptions.customBioText,t.includeStories=null!==(i=n.includeStories)&&void 0!==i?i:e.DefaultOptions.includeStories,t.storiesInterval=n.storiesInterval||e.DefaultOptions.storiesInterval,t.showCaptions=s.a.normalize(n.showCaptions,e.DefaultOptions.showCaptions),t.captionMaxLength=s.a.normalize(n.captionMaxLength,e.DefaultOptions.captionMaxLength),t.captionRemoveDots=null!==(l=n.captionRemoveDots)&&void 0!==l?l:e.DefaultOptions.captionRemoveDots,t.captionSize=s.a.normalize(n.captionSize,e.DefaultOptions.captionSize),t.captionColor=n.captionColor||e.DefaultOptions.captionColor,t.showLikes=s.a.normalize(n.showLikes,e.DefaultOptions.showLikes),t.showComments=s.a.normalize(n.showComments,e.DefaultOptions.showCaptions),t.lcIconSize=s.a.normalize(n.lcIconSize,e.DefaultOptions.lcIconSize),t.likesIconColor=null!==(u=n.likesIconColor)&&void 0!==u?u:e.DefaultOptions.likesIconColor,t.commentsIconColor=n.commentsIconColor||e.DefaultOptions.commentsIconColor,t.lightboxShowSidebar=null!==(d=n.lightboxShowSidebar)&&void 0!==d?d:e.DefaultOptions.lightboxShowSidebar,t.numLightboxComments=n.numLightboxComments||e.DefaultOptions.numLightboxComments,t.showLoadMoreBtn=s.a.normalize(n.showLoadMoreBtn,e.DefaultOptions.showLoadMoreBtn),t.loadMoreBtnTextColor=n.loadMoreBtnTextColor||e.DefaultOptions.loadMoreBtnTextColor,t.loadMoreBtnBgColor=n.loadMoreBtnBgColor||e.DefaultOptions.loadMoreBtnBgColor,t.loadMoreBtnText=n.loadMoreBtnText||e.DefaultOptions.loadMoreBtnText,t.autoload=null!==(m=n.autoload)&&void 0!==m?m:e.DefaultOptions.autoload,t.showFollowBtn=s.a.normalize(n.showFollowBtn,e.DefaultOptions.showFollowBtn),t.followBtnText=null!==(p=n.followBtnText)&&void 0!==p?p:e.DefaultOptions.followBtnText,t.followBtnTextColor=n.followBtnTextColor||e.DefaultOptions.followBtnTextColor,t.followBtnBgColor=n.followBtnBgColor||e.DefaultOptions.followBtnBgColor,t.followBtnLocation=s.a.normalize(n.followBtnLocation,e.DefaultOptions.followBtnLocation),t.hashtagWhitelist=n.hashtagWhitelist||e.DefaultOptions.hashtagWhitelist,t.hashtagBlacklist=n.hashtagBlacklist||e.DefaultOptions.hashtagBlacklist,t.captionWhitelist=n.captionWhitelist||e.DefaultOptions.captionWhitelist,t.captionBlacklist=n.captionBlacklist||e.DefaultOptions.captionBlacklist,t.hashtagWhitelistSettings=null!==(h=n.hashtagWhitelistSettings)&&void 0!==h?h:e.DefaultOptions.hashtagWhitelistSettings,t.hashtagBlacklistSettings=null!==(g=n.hashtagBlacklistSettings)&&void 0!==g?g:e.DefaultOptions.hashtagBlacklistSettings,t.captionWhitelistSettings=null!==(f=n.captionWhitelistSettings)&&void 0!==f?f:e.DefaultOptions.captionWhitelistSettings,t.captionBlacklistSettings=null!==(b=n.captionBlacklistSettings)&&void 0!==b?b:e.DefaultOptions.captionBlacklistSettings,t.moderation=n.moderation||e.DefaultOptions.moderation,t.moderationMode=n.moderationMode||e.DefaultOptions.moderationMode,t.promotionEnabled=n.promotionEnabled||e.DefaultOptions.promotionEnabled,Array.isArray(n.promotions)?t.promotions=new Map(n.promotions):n.promotions&&n.promotions.constructor&&"Map"===n.promotions.constructor.name?t.promotions=n.promotions:"object"==typeof n.promotions?t.promotions=new Map(Object.entries(n.promotions)):t.promotions=e.DefaultOptions.promotions,t}static getAllAccounts(e){const t=c.b.idsToAccounts(e.accounts),n=c.b.idsToAccounts(e.tagged);return{all:t.concat(n),accounts:t,tagged:n}}static getSources(e){return{accounts:c.b.idsToAccounts(e.accounts),tagged:c.b.idsToAccounts(e.tagged),hashtags:c.b.getBusinessAccounts().length>0?e.hashtags.filter(e=>e.tag.length>0):[]}}static hasSources(t,n){const o=e.Options.getSources(t),a=o.accounts.length>0||n&&o.tagged.length>0,i=n&&o.hashtags.length>0;return a||i}static isLimitingPosts(e){return e.moderation.length>0||e.hashtagBlacklist.length>0||e.hashtagWhitelist.length>0||e.captionBlacklist.length>0||e.captionWhitelist.length>0}}h([i.n],_.prototype,"accounts",void 0),h([i.n],_.prototype,"hashtags",void 0),h([i.n],_.prototype,"tagged",void 0),h([i.n],_.prototype,"layout",void 0),h([i.n],_.prototype,"numColumns",void 0),h([i.n],_.prototype,"highlightFreq",void 0),h([i.n],_.prototype,"mediaType",void 0),h([i.n],_.prototype,"postOrder",void 0),h([i.n],_.prototype,"numPosts",void 0),h([i.n],_.prototype,"linkBehavior",void 0),h([i.n],_.prototype,"feedWidth",void 0),h([i.n],_.prototype,"feedHeight",void 0),h([i.n],_.prototype,"feedPadding",void 0),h([i.n],_.prototype,"imgPadding",void 0),h([i.n],_.prototype,"textSize",void 0),h([i.n],_.prototype,"bgColor",void 0),h([i.n],_.prototype,"textColorHover",void 0),h([i.n],_.prototype,"bgColorHover",void 0),h([i.n],_.prototype,"hoverInfo",void 0),h([i.n],_.prototype,"showHeader",void 0),h([i.n],_.prototype,"headerInfo",void 0),h([i.n],_.prototype,"headerAccount",void 0),h([i.n],_.prototype,"headerStyle",void 0),h([i.n],_.prototype,"headerTextSize",void 0),h([i.n],_.prototype,"headerPhotoSize",void 0),h([i.n],_.prototype,"headerTextColor",void 0),h([i.n],_.prototype,"headerBgColor",void 0),h([i.n],_.prototype,"headerPadding",void 0),h([i.n],_.prototype,"customBioText",void 0),h([i.n],_.prototype,"customProfilePic",void 0),h([i.n],_.prototype,"includeStories",void 0),h([i.n],_.prototype,"storiesInterval",void 0),h([i.n],_.prototype,"showCaptions",void 0),h([i.n],_.prototype,"captionMaxLength",void 0),h([i.n],_.prototype,"captionRemoveDots",void 0),h([i.n],_.prototype,"captionSize",void 0),h([i.n],_.prototype,"captionColor",void 0),h([i.n],_.prototype,"showLikes",void 0),h([i.n],_.prototype,"showComments",void 0),h([i.n],_.prototype,"lcIconSize",void 0),h([i.n],_.prototype,"likesIconColor",void 0),h([i.n],_.prototype,"commentsIconColor",void 0),h([i.n],_.prototype,"lightboxShowSidebar",void 0),h([i.n],_.prototype,"numLightboxComments",void 0),h([i.n],_.prototype,"showLoadMoreBtn",void 0),h([i.n],_.prototype,"loadMoreBtnText",void 0),h([i.n],_.prototype,"loadMoreBtnTextColor",void 0),h([i.n],_.prototype,"loadMoreBtnBgColor",void 0),h([i.n],_.prototype,"autoload",void 0),h([i.n],_.prototype,"showFollowBtn",void 0),h([i.n],_.prototype,"followBtnText",void 0),h([i.n],_.prototype,"followBtnTextColor",void 0),h([i.n],_.prototype,"followBtnBgColor",void 0),h([i.n],_.prototype,"followBtnLocation",void 0),h([i.n],_.prototype,"hashtagWhitelist",void 0),h([i.n],_.prototype,"hashtagBlacklist",void 0),h([i.n],_.prototype,"captionWhitelist",void 0),h([i.n],_.prototype,"captionBlacklist",void 0),h([i.n],_.prototype,"hashtagWhitelistSettings",void 0),h([i.n],_.prototype,"hashtagBlacklistSettings",void 0),h([i.n],_.prototype,"captionWhitelistSettings",void 0),h([i.n],_.prototype,"captionBlacklistSettings",void 0),h([i.n],_.prototype,"moderation",void 0),h([i.n],_.prototype,"moderationMode",void 0),e.Options=_;class v{constructor(e){Object.getOwnPropertyNames(e).map(t=>{this[t]=e[t]})}getCaption(e){const t=e.caption?e.caption:"";return this.captionMaxLength&&t.length?Object(u.n)(Object(u.q)(t,this.captionMaxLength)):t}static compute(t,n=s.a.Mode.DESKTOP){const o=new v({accounts:c.b.filterExisting(t.accounts),tagged:c.b.filterExisting(t.tagged),hashtags:t.hashtags.filter(e=>e.tag.length>0),layout:r.a.getById(t.layout),highlightFreq:s.a.get(t.highlightFreq,n,!0),linkBehavior:s.a.get(t.linkBehavior,n,!0),bgColor:Object(d.a)(t.bgColor),textColorHover:Object(d.a)(t.textColorHover),bgColorHover:Object(d.a)(t.bgColorHover),hoverInfo:t.hoverInfo,showHeader:s.a.get(t.showHeader,n,!0),headerInfo:s.a.get(t.headerInfo,n,!0),headerStyle:s.a.get(t.headerStyle,n,!0),headerTextColor:Object(d.a)(t.headerTextColor),headerBgColor:Object(d.a)(t.headerBgColor),headerPadding:s.a.get(t.headerPadding,n,!0),includeStories:t.includeStories,storiesInterval:t.storiesInterval,showCaptions:s.a.get(t.showCaptions,n,!0),captionMaxLength:s.a.get(t.captionMaxLength,n,!0),captionRemoveDots:t.captionRemoveDots,captionColor:Object(d.a)(t.captionColor),showLikes:s.a.get(t.showLikes,n,!0),showComments:s.a.get(t.showComments,n,!0),likesIconColor:Object(d.a)(t.likesIconColor),commentsIconColor:Object(d.a)(t.commentsIconColor),lightboxShowSidebar:t.lightboxShowSidebar,numLightboxComments:t.numLightboxComments,showLoadMoreBtn:s.a.get(t.showLoadMoreBtn,n,!0),loadMoreBtnTextColor:Object(d.a)(t.loadMoreBtnTextColor),loadMoreBtnBgColor:Object(d.a)(t.loadMoreBtnBgColor),loadMoreBtnText:t.loadMoreBtnText,showFollowBtn:s.a.get(t.showFollowBtn,n,!0),autoload:t.autoload,followBtnLocation:s.a.get(t.followBtnLocation,n,!0),followBtnTextColor:Object(d.a)(t.followBtnTextColor),followBtnBgColor:Object(d.a)(t.followBtnBgColor),followBtnText:t.followBtnText,account:null,showBio:!1,bioText:null,profilePhotoUrl:c.b.DEFAULT_PROFILE_PIC,feedWidth:"",feedHeight:"",feedPadding:"",imgPadding:"",textSize:"",headerTextSize:"",headerPhotoSize:"",captionSize:"",lcIconSize:"",showLcIcons:!1});if(o.numColumns=this.getNumCols(t,n),o.numPosts=this.getNumPosts(t,n),o.allAccounts=o.accounts.concat(o.tagged.filter(e=>!o.accounts.includes(e))),o.allAccounts.length>0&&(o.account=t.headerAccount&&o.allAccounts.includes(t.headerAccount)?c.b.getById(t.headerAccount):c.b.getById(o.allAccounts[0])),o.showHeader=o.showHeader&&null!==o.account,o.showHeader&&(o.profilePhotoUrl=t.customProfilePic.length?t.customProfilePic:c.b.getProfilePicUrl(o.account)),o.showFollowBtn=o.showFollowBtn&&null!==o.account,o.showBio=o.headerInfo.some(t=>t===e.HeaderInfo.BIO),o.showBio){const e=t.customBioText.trim().length>0?t.customBioText:null!==o.account?c.b.getBioText(o.account):"";o.bioText=Object(u.n)(e),o.showBio=o.bioText.length>0}return o.feedWidth=this.normalizeCssSize(t.feedWidth,n,"auto"),o.feedHeight=this.normalizeCssSize(t.feedHeight,n,"auto"),o.feedPadding=this.normalizeCssSize(t.feedPadding,n,"0"),o.imgPadding=this.normalizeCssSize(t.imgPadding,n,"0"),o.textSize=this.normalizeCssSize(t.textSize,n,"inherit",!0),o.headerTextSize=this.normalizeCssSize(t.headerTextSize,n,"inherit"),o.headerPhotoSize=this.normalizeCssSize(t.headerPhotoSize,n,"50px"),o.captionSize=this.normalizeCssSize(t.captionSize,n,"inherit"),o.lcIconSize=this.normalizeCssSize(t.lcIconSize,n,"inherit"),o.buttonPadding=Math.max(10,s.a.get(t.imgPadding,n))+"px",o.showLcIcons=o.showLikes||o.showComments,o}static getNumCols(e,t){return Math.max(1,this.normalizeMultiInt(e.numColumns,t,1))}static getNumPosts(e,t){return Math.max(1,this.normalizeMultiInt(e.numPosts,t,1))}static normalizeMultiInt(e,t,n=0){const o=parseInt(s.a.get(e,t)+"");return isNaN(o)?t===s.a.Mode.DESKTOP?n:this.normalizeMultiInt(e,s.a.Mode.DESKTOP,n):o}static normalizeCssSize(e,t,n=null,o=!1){const a=s.a.get(e,t,o);return a?a+"px":n}}e.ComputedOptions=v,e.HashtagSorting=Object(l.c)({recent:"Most recent",popular:"Most popular"}),function(e){e.ALL="all",e.PHOTOS="photos",e.VIDEOS="videos"}(n=e.MediaType||(e.MediaType={})),function(e){e.NOTHING="nothing",e.SELF="self",e.NEW_TAB="new_tab",e.LIGHTBOX="lightbox"}(o=e.LinkBehavior||(e.LinkBehavior={})),function(e){e.DATE_ASC="date_asc",e.DATE_DESC="date_desc",e.POPULARITY_ASC="popularity_asc",e.POPULARITY_DESC="popularity_desc",e.RANDOM="random"}(a=e.PostOrder||(e.PostOrder={})),function(e){e.USERNAME="username",e.DATE="date",e.CAPTION="caption",e.LIKES_COMMENTS="likes_comments",e.INSTA_LINK="insta_link"}(m=e.HoverInfo||(e.HoverInfo={})),function(e){e.NORMAL="normal",e.BOXED="boxed",e.CENTERED="centered"}(p=e.HeaderStyle||(e.HeaderStyle={})),function(e){e.BIO="bio",e.PROFILE_PIC="profile_pic",e.FOLLOWERS="followers",e.MEDIA_COUNT="media_count"}(g=e.HeaderInfo||(e.HeaderInfo={})),function(e){e.HEADER="header",e.BOTTOM="bottom",e.BOTH="both"}(f=e.FollowBtnLocation||(e.FollowBtnLocation={})),function(e){e.WHITELIST="whitelist",e.BLACKLIST="blacklist"}(b=e.ModerationMode||(e.ModerationMode={})),e.DefaultOptions={accounts:[],hashtags:[],tagged:[],layout:null,numColumns:{desktop:3},highlightFreq:{desktop:7},mediaType:n.ALL,postOrder:a.DATE_DESC,numPosts:{desktop:9},linkBehavior:{desktop:o.LIGHTBOX,phone:o.NEW_TAB},feedWidth:{desktop:""},feedHeight:{desktop:""},feedPadding:{desktop:20,tablet:14,phone:10},imgPadding:{desktop:14,tablet:10,phone:6},textSize:{all:""},bgColor:{r:255,g:255,b:255,a:1},hoverInfo:[m.LIKES_COMMENTS,m.INSTA_LINK],textColorHover:{r:255,g:255,b:255,a:1},bgColorHover:{r:0,g:0,b:0,a:.5},showHeader:{desktop:!0},headerInfo:{desktop:[g.PROFILE_PIC,g.BIO]},headerAccount:null,headerStyle:{desktop:p.NORMAL,phone:p.CENTERED},headerTextSize:{desktop:""},headerPhotoSize:{desktop:50},headerTextColor:{r:0,g:0,b:0,a:1},headerBgColor:{r:255,g:255,b:255,a:1},headerPadding:{desktop:0},customProfilePic:0,customBioText:"",includeStories:!1,storiesInterval:5,showCaptions:{desktop:!1},captionMaxLength:{desktop:0},captionRemoveDots:!1,captionSize:{desktop:0},captionColor:{r:0,g:0,b:0,a:1},showLikes:{desktop:!1},showComments:{desktop:!1},lcIconSize:{desktop:14},likesIconColor:{r:0,g:0,b:0,a:1},commentsIconColor:{r:0,g:0,b:0,a:1},lightboxShowSidebar:!1,numLightboxComments:50,showLoadMoreBtn:{desktop:!0},loadMoreBtnTextColor:{r:255,g:255,b:255,a:1},loadMoreBtnBgColor:{r:0,g:149,b:246,a:1},loadMoreBtnText:"Load more",autoload:!1,showFollowBtn:{desktop:!0},followBtnText:"Follow on Instagram",followBtnTextColor:{r:255,g:255,b:255,a:1},followBtnBgColor:{r:0,g:149,b:246,a:1},followBtnLocation:{desktop:f.HEADER,phone:f.BOTTOM},hashtagWhitelist:[],hashtagBlacklist:[],captionWhitelist:[],captionBlacklist:[],hashtagWhitelistSettings:!0,hashtagBlacklistSettings:!0,captionWhitelistSettings:!0,captionBlacklistSettings:!0,moderation:[],moderationMode:b.BLACKLIST,promotionEnabled:!0,promotions:new Map}}(g||(g={}))},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(0),a=n.n(o),i=n(73),s=n.n(i);function r(){return a.a.createElement("div",{className:s.a.root})}},65:function(e,t,n){e.exports={root:"SettingsGroup__root layout__flex-column",title:"SettingsGroup__title",content:"SettingsGroup__content","field-list":"SettingsGroup__field-list layout__flex-column",fieldList:"SettingsGroup__field-list layout__flex-column"}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(0),a=n.n(o),i=n(47),s=n.n(i),r=n(10),l=n(3),c=n(64),u=n(9);function d(e){var{media:t,className:n,size:i,onLoadImage:d,width:m,height:p}=e,h=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["media","className","size","onLoadImage","width","height"]);const g=a.a.useRef(),[f,b]=a.a.useState(!0);return Object(o.useLayoutEffect)(()=>{if(g.current){g.current.onload=()=>{b(!1),d&&d()};const e=t.type===r.a.Type.ALBUM&&t.children.length>0?t.children[0]:t,n=Object(l.j)(e.permalink),o=t.type===r.a.Type.VIDEO?Object(l.i)(n,l.a.LARGE):t.url;if(void 0===i){const e=Object(l.i)(n,l.a.SMALL),a=Object(l.i)(n,l.a.MEDIUM),i=Object(l.i)(n,l.a.LARGE);g.current.src=t.type===r.a.Type.VIDEO?o:a,g.current.srcset=`${e} 150w, ${a} 320w, ${i} 600w, ${o} 1000w`}else g.current.src=o}return()=>g.current.onload=()=>null},[t,i]),t.url&&t.url.length>0?a.a.createElement("div",Object.assign({className:Object(u.b)(s.a.root,n)},h),a.a.createElement("img",{ref:g,className:s.a.image,loading:"lazy",alt:t.caption,width:m,height:p}),f&&a.a.createElement(c.a,null)):a.a.createElement("div",{className:s.a.notAvailable},a.a.createElement("span",null,"Thumbnail not available"))}},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var o=n(6),a=n(14),i=n(3);class s{constructor(e=!1,t=!1){this.incModeration=!1,this.incFilters=!1,this.prevOptions=null,this.media=new Array,this.incModeration=e,this.incFilters=t}fetchMedia(e,t){if(null!==this.prevOptions&&!this.isCacheInvalid(e))return Promise.resolve(this.media);const n=Object.assign({},e.options,{moderation:this.incModeration?e.options.moderation:[],moderationMode:e.options.moderationMode,hashtagBlacklist:this.incFilters?e.options.hashtagBlacklist:[],hashtagWhitelist:this.incFilters?e.options.hashtagWhitelist:[],captionBlacklist:this.incFilters?e.options.captionBlacklist:[],captionWhitelist:this.incFilters?e.options.captionWhitelist:[],hashtagBlacklistSettings:!!this.incFilters&&e.options.hashtagBlacklistSettings,hashtagWhitelistSettings:!!this.incFilters&&e.options.hashtagWhitelistSettings,captionBlacklistSettings:!!this.incFilters&&e.options.captionBlacklistSettings,captionWhitelistSettings:!!this.incFilters&&e.options.captionWhitelistSettings});return t&&t(),a.a.getFeedMedia(n).then(t=>(this.prevOptions=new o.a.Options(e.options),this.media=t.data.media,this.media))}isCacheInvalid(e){const t=e.options,n=this.prevOptions;if(Object(i.h)(e.media,this.media,(e,t)=>e.id===t.id).length>0)return!0;if(!Object(i.e)(t.accounts,n.accounts))return!0;if(!Object(i.e)(t.tagged,n.tagged))return!0;if(!Object(i.e)(t.hashtags,n.hashtags,i.l))return!0;if(this.incModeration){if(t.moderationMode!==n.moderationMode)return!0;if(!Object(i.e)(t.moderation,n.moderation))return!0}if(this.incFilters){if(t.captionWhitelistSettings!==n.captionWhitelistSettings||t.captionBlacklistSettings!==n.captionBlacklistSettings||t.hashtagWhitelistSettings!==n.hashtagWhitelistSettings||t.hashtagBlacklistSettings!==n.hashtagBlacklistSettings)return!0;if(!Object(i.e)(t.captionWhitelist,n.captionWhitelist))return!0;if(!Object(i.e)(t.captionBlacklist,n.captionBlacklist))return!0;if(!Object(i.e)(t.hashtagWhitelist,n.hashtagWhitelist))return!0;if(!Object(i.e)(t.hashtagBlacklist,n.hashtagBlacklist))return!0}return!1}}const r=new s(!0,!0),l=new s(!1,!0)},73:function(e,t,n){e.exports={root:"MediaLoading__root",animation:"MediaLoading__animation"}},74:function(e,t,n){"use strict";var o=n(0),a=n.n(o),i=n(92),s=n.n(i),r=n(4),l=n(9),c=n(7);t.a=Object(c.b)((function(e){var{account:t,square:n,className:o}=e,i=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["account","square","className"]);const c=r.b.getProfilePicUrl(t),u=Object(l.b)(n?s.a.square:s.a.round,o);return a.a.createElement("img",Object.assign({},i,{className:u,src:r.b.DEFAULT_PROFILE_PIC,srcSet:c+" 1x",alt:t.username+" profile picture"}))}))},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(0),a=n.n(o),i=n(116),s=n.n(i),r=n(12),l=n(9);const c=({className:e,children:t})=>a.a.createElement("a",{className:Object(l.b)(s.a.pill,e),href:r.a.resources.upgradeLocalUrl,target:"_blank",tabIndex:-1},"PRO",t)},76:function(e,t,n){e.exports={root:"SettingsPage__root layout__flex-column",content:"SettingsPage__content","group-list":"SettingsPage__group-list layout__flex-column",groupList:"SettingsPage__group-list layout__flex-column"}},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0),a=n.n(o),i=n(9);const s=e=>{var{icon:t,className:n}=e,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["icon","className"]);return a.a.createElement("span",Object.assign({className:Object(i.b)("dashicons","dashicons-"+t,n)},o))}},9:function(e,t,n){"use strict";function o(...e){return e.filter(e=>!!e).join(" ")}function a(e){return o(...Object.getOwnPropertyNames(e).map(t=>e[t]?t:null))}function i(e,t={}){let n=Object.getOwnPropertyNames(t).map(n=>t[n]?e+n:null);return e+" "+n.filter(e=>!!e).join(" ")}function s(...e){return t=>{e.forEach(e=>e&&function(e,t){"function"==typeof e?e(t):e.current=t}(e,t))}}n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s}))},92:function(e,t,n){e.exports={root:"ProfilePic__root",round:"ProfilePic__round ProfilePic__root",square:"ProfilePic__square ProfilePic__root"}},93:function(e,t,n){e.exports={"connect-btn":"AccountsPage__connect-btn",connectBtn:"AccountsPage__connect-btn"}},96:function(e,t,n){e.exports={root:"GenericNavbar__root",list:"GenericNavbar__list","left-list":"GenericNavbar__left-list GenericNavbar__list",leftList:"GenericNavbar__left-list GenericNavbar__list",item:"GenericNavbar__item","center-list":"GenericNavbar__center-list GenericNavbar__list",centerList:"GenericNavbar__center-list GenericNavbar__list","right-list":"GenericNavbar__right-list GenericNavbar__list",rightList:"GenericNavbar__right-list GenericNavbar__list","path-list":"GenericNavbar__path-list GenericNavbar__left-list GenericNavbar__list",pathList:"GenericNavbar__path-list GenericNavbar__left-list GenericNavbar__list","path-segment":"GenericNavbar__path-segment",pathSegment:"GenericNavbar__path-segment",separator:"GenericNavbar__separator GenericNavbar__item"}}},[[570,0,1,3,2]]])}));