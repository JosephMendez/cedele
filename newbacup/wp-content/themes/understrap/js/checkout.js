"use strict";jQuery(document).ready(function(){var s,a,e,i=JSON.parse(localStorage.getItem("customerAddress")||"{}");function t(){var e;"delivery"==i.deliveryType&&i.deliveryAddress&&(e=JSON.parse(i.deliveryAddress),jQuery("#billing_address_1").val(e.formatted_address),jQuery("#billing_address_2").val(i.deliveryAddress2||""),jQuery("#billing_postcode").val(e.zipcode),jQuery("#billing_state option").each(function(){jQuery(this).text()==e.state&&(jQuery(this).attr("selected","selected"),jQuery("#billing_state").trigger("change"))}),jQuery("#shipping_address_1").val(e.formatted_address),jQuery("#shipping_address_2").val(i.deliveryAddress2||""),jQuery("#shipping_postcode").val(e.zipcode),jQuery("#shipping_state option").each(function(){jQuery(this).text()==e.state&&jQuery(this).attr("selected","selected")}))}e=new google.maps.places.Autocomplete(document.getElementById("billing_address_1"),{types:["geocode"],componentRestrictions:{country:"sg"},language:["en"]}),s=e,a="billing",google.maps.event.addListener(s,"place_changed",function(){var e=s.getPlace(),i=extractFromAdress(e.address_components,"postal_code"),t=extractFromAdress(e.address_components,"street_number"),l=extractFromAdress(e.address_components,"route"),r=extractFromAdress(e.address_components,"neighborhood"),n=(e.formatted_address,e.geometry.location.lat(),e.geometry.location.lng(),jQuery("#"+a+"_state"));jQuery("#"+a+"_postcode").val(i),n.find("option").each(function(){jQuery(this).prop("selected",!1),jQuery(this).text().toLowerCase()==r.toLowerCase()&&jQuery(this).prop("selected",!0)}),n.trigger("change")}),t();function l(e,i){i&&!jQuery(e).val()||jQuery(e).prop("readonly",i)}["#billing_address_1_field","#billing_address_2_field","#billing_state_field","#billing_postcode_field"].forEach(function(e){jQuery(e).appendTo(".billing-address-fields").show()}),jQuery("#same-address").on("change",function(){jQuery(this).is(":checked")?(jQuery(".billing-address-fields").hide(),t()):jQuery(".billing-address-fields").show()}),jQuery("#user-account-info").on("change",function(){var e=jQuery(this).is(":checked");e&&(jQuery("#billing_first_name").val(billing_first_name),jQuery("#billing_last_name").val(billing_last_name),jQuery("#billing_phone").val(billing_phone),jQuery("#billing_email").val(billing_email),jQuery("#billing_first_name").attr("value",billing_first_name),jQuery("#billing_last_name").attr("value",billing_last_name),jQuery("#billing_phone").attr("value",billing_phone),jQuery("#billing_email").attr("value",billing_email)),l("#billing_first_name",e),l("#billing_last_name",e),l("#billing_phone",e),l("#billing_email",e)}),jQuery("#user-account-info").trigger("change"),jQuery("body").on("change",'input[name="payment_method"]',function(){"omise_paynow"==jQuery('input[name="payment_method"]:checked').attr("value")&&jQuery(".payment_box.payment_method_omise").hide()})});